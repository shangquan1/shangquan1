/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-luck-draw"]=e():t["vue-luck-draw"]=e()}(this,(function(){return(()=>{var t={317:(t,e)=>{"use strict";var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function a(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}});var c=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===e}))},u=function(t){return[].filter.call(t,(function(t){return"\n"!==t})).join("")},l=function(t){return"string"==typeof t&&("transparent"!==(t=t.toLocaleLowerCase().trim())&&(!/^rgba/.test(t)||0!==(null===(e=/([^\s,]+)\)$/.exec(t))?0:"object"==typeof e?NaN:"number"==typeof e?e:"string"==typeof e?"%"===e[e.length-1]?Number(e.slice(0,-1))/100:Number(e):NaN)));var e},h=function(){function t(){this.subs=[]}return t.prototype.addSub=function(t){this.subs.includes(t)||this.subs.push(t)},t.prototype.notify=function(){this.subs.forEach((function(t){t.update()}))},t}(),f="__proto__"in{};function d(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var p=Array.prototype,g=Object.create(p);["push","pop","shift","unshift","sort","splice","reverse"].forEach((function(t){g[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=p[t].apply(this,e),r=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&r.walk(this),r.dep.notify(),i}}));var y=function(){function t(t){this.dep=new h,d(t,"__luckyOb__",this),Array.isArray(t)&&(f?t.__proto__=g:Object.getOwnPropertyNames(g).forEach((function(e){d(t,e,g[e])}))),this.walk(t)}return t.prototype.walk=function(t){Object.keys(t).forEach((function(e){v(t,e,t[e])}))},t}();function m(t){if(t&&"object"==typeof t)return"__luckyOb__"in t?t.__luckyOb__:new y(t)}function v(t,e,n){var i=new h,r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var o=r&&r.get,s=r&&r.set;o&&!s||2!==arguments.length||(n=t[e]);var a=m(n);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):n;return h.target&&(i.addSub(h.target),a&&a.dep.addSub(h.target)),e},set:function(e){e!==n&&(n=e,o&&!s||(s?s.call(t,e):n=e,a=m(e),i.notify()))}})}}var b=0,w=function(){function t(t,e,n,i){void 0===i&&(i={}),this.id=b++,this.$lucky=t,this.expr=e,this.deep=!!i.deep,this.getter="function"==typeof e?e:function(t){t+=".";for(var e=[],n="",i=0;i<t.length;i++){var r=t[i];if(/\[|\./.test(r))e.push(n),n="";else{if(/\W/.test(r))continue;n+=r}}return function(t){return e.reduce((function(t,e){return t[e]}),t)}}(e),this.cb=n,this.value=this.get()}return t.prototype.get=function(){h.target=this;var t=this.getter.call(this.$lucky,this.$lucky);return this.deep&&function(t){var e=function(t){c(t,"array","object")&&Object.keys(t).forEach((function(n){var i=t[n];e(i)}))};e(t)}(t),h.target=null,t},t.prototype.update=function(){var t=this.get(),e=this.value;this.value=t,this.cb.call(this.$lucky,t,e)},t}(),_=function(){function t(t){var e=this;this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,this.setHTMLFontSize(),"string"==typeof t?t={el:t}:1===t.nodeType&&(t={el:"",divElement:t}),t=t,this.config=t,this.setDpr(),this.initWindowFunction(),t.flag||(t.flag="WEB"),Object.prototype.hasOwnProperty.call(t,"ob")||(t.ob=!0),t.el&&(t.divElement=document.querySelector(t.el)),t.divElement&&(t.canvasElement=document.createElement("canvas"),t.divElement.appendChild(t.canvasElement)),this.resetWidthAndHeight(),t.canvasElement&&(t.ctx=t.canvasElement.getContext("2d"),t.canvasElement.setAttribute("package","lucky-canvas@1.5.4"),t.canvasElement.addEventListener("click",(function(t){return e.handleClick(t)})),t.canvasElement.addEventListener("mousemove",(function(t){return e.handleMouseMove(t)})),t.canvasElement.addEventListener("mousedown",(function(t){return e.handleMouseDown(t)})),t.canvasElement.addEventListener("mouseup",(function(t){return e.handleMouseUp(t)}))),this.ctx=t.ctx,t.ctx?this.boxWidth&&this.boxHeight||console.error("无法获取到宽度或高度"):console.error("无法获取到 CanvasContext2D")}return t.prototype.init=function(t){this.setDpr(),this.setHTMLFontSize(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.handleClick=function(t){},t.prototype.handleMouseDown=function(t){},t.prototype.handleMouseUp=function(t){},t.prototype.handleMouseMove=function(t){},t.prototype.conversionAxis=function(t,e){return[0,0]},t.prototype.setDpr=function(){var t=this.config;t.dpr||(window?window.dpr=t.dpr=window.devicePixelRatio||1:t.dpr||console.error(t,"未传入 dpr 可能会导致绘制异常"))},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.resetWidthAndHeight=function(){var t=this.config,e=0,n=0;t.divElement&&(e=t.divElement.offsetWidth,n=t.divElement.offsetHeight),this.boxWidth=this.getLength(t.width)||e,this.boxHeight=this.getLength(t.height)||n,t.divElement&&(t.divElement.style.overflow="hidden",t.divElement.style.width=this.boxWidth+"px",t.divElement.style.height=this.boxHeight+"px")},t.prototype.initWindowFunction=function(){var t=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.setTimeout=window.setTimeout,t.setInterval=window.setInterval,t.clearTimeout=window.clearTimeout,void(t.clearInterval=window.clearInterval);if(t.rAF)this.rAF=t.rAF;else if(t.setTimeout){var e=t.setTimeout;this.rAF=function(t){return e(t,16.7)}}else this.rAF=function(t){return setTimeout(t,16.7)}},t.prototype.zoomCanvas=function(){var t=this.config,e=this.ctx,n=t.canvasElement,i=t.dpr,r=[this.boxWidth*i,this.boxHeight*i],o=r[0],s=r[1],a=function(t){return(t*i-t)/(t*i)*(i/2)*100};n&&(n.width=o,n.height=s,n.style.width=o+"px",n.style.height=s+"px",n.style.transform="scale("+1/i+") translate("+-a(o)+"%, "+-a(s)+"%)",e.scale(i,i))},t.prototype.loadImg=function(t,e,n){var i=this;return void 0===n&&(n="$resolve"),new Promise((function(r,o){if(t||o("=> '"+e.src+"' 不能为空或不合法"),"WEB"===i.config.flag){var s=new Image;s.src=t,s.onload=function(){return r(s)},s.onerror=function(){return o("=> '"+e.src+"' 图片加载失败")}}else e[n]=r}))},t.prototype.drawImage=function(t,e,n,i,r){var o,s=this.config,a=this.ctx;return["WEB","MP-WX"].includes(s.flag)?o=t:["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(s.flag)&&(o=t.path),a.drawImage(o,e,n,i,r)},t.prototype.getLength=function(t){return c(t,"number")?t:c(t,"string")?this.changeUnits(t):0},t.prototype.changeUnits=function(t,e){var n=this;return void 0===e&&(e=1),Number(t.replace(/^([-]*[0-9.]*)([a-z%]*)$/,(function(t,i,r){var o={"%":function(t){return t*(e/100)},px:function(t){return 1*t},rem:function(t){return t*n.htmlFontSize}}[r];if(o)return o(i);var s=n.config.unitFunc;return s?s(i,r):i})))},t.prototype.$set=function(t,e,n){t&&"object"==typeof t&&v(t,e,n)},t.prototype.$computed=function(t,e,n){var i=this;Object.defineProperty(t,e,{get:function(){return n.call(i)}})},t.prototype.$watch=function(t,e,n){void 0===n&&(n={}),"object"==typeof e&&(e=(n=e).handler);var i=new w(this,t,e,n);return n.immediate&&e.call(this,i.value),function(){}},t}(),k=function(t){return Math.PI/180*t},x=function(t,e){return[+(Math.cos(t)*e).toFixed(8),+(Math.sin(t)*e).toFixed(8)]},S=function(t,e){var n=-t/e;return[n,-n*t+e]},I=function(t,e,n,i,r,o){var s;if(void 0===o&&(o=!0),Math.abs(r-i).toFixed(8)>=k(180).toFixed(8)){var a=(r+i)/2;return o?(I(t,e,n,i,a,o),I(t,e,n,a,r,o)):(I(t,e,n,a,r,o),I(t,e,n,i,a,o)),!1}o||(i=(s=[r,i])[0],r=s[1]);var c=x(i,n),u=c[0],l=c[1],h=x(r,n),f=h[0],d=h[1],p=S(u,l),g=p[0],y=p[1],m=S(f,d),v=m[0],b=m[1],w=(b-y)/(g-v),_=(v*y-g*b)/(v-g);isNaN(w)&&(Math.abs(u)===+n.toFixed(8)&&(w=u),Math.abs(f)===+n.toFixed(8)&&(w=f)),g===1/0||g===-1/0?_=v*w+b:v!==1/0&&v!==-1/0||(_=g*w+y),e.lineTo(u,l),t.indexOf("MP")>0?e.quadraticCurveTo(w,_,f,d):e.arcTo(w,_,f,d,n)},z=function(t,e,n,i,r,o,s){var a=Math.min(i,r);o>a/2&&(o=a/2),t.beginPath(),t.fillStyle=s,t.moveTo(e+o,n),t.lineTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),t.fill()},C={easeIn:function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),-n*(t/=i)*(t-2)+e}},$={easeIn:function(t,e,n,i){return t>=i&&(t=i),-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),n*Math.sin(t/i*(Math.PI/2))+e}},O={easeIn:function(t,e,n,i){return t>=i&&(t=i),0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e}},T={easeIn:function(t,e,n,i){return t>=i&&(t=i),-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),n*Math.sqrt(1-(t=t/i-1)*t)+e}},E=Object.freeze({__proto__:null,quad:C,cubic:{easeIn:function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t*t+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),n*((t=t/i-1)*t*t+1)+e}},quart:{easeIn:function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t*t*t+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),-n*((t=t/i-1)*t*t*t-1)+e}},quint:{easeIn:function(t,e,n,i){return t>=i&&(t=i),n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return t>=i&&(t=i),n*((t=t/i-1)*t*t*t*t+1)+e}},sine:$,expo:O,circ:T}),R=function(t){function e(e,n){var i;void 0===n&&(n={});var r=t.call(this,e)||this;return r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r._defaultConfig={gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:.8},r.defaultStyle={},r._defaultStyle={fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",lineHeight:"",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},r.Radius=0,r.prizeRadius=0,r.prizeDeg=0,r.prizeRadian=0,r.rotateDeg=0,r.maxBtnRadius=0,r.startTime=0,r.endTime=0,r.stopDeg=0,r.endDeg=0,r.FPS=16.6,r.blockImgs=[[]],r.prizeImgs=[[]],r.btnImgs=[[]],e.ob&&(r.initData(n),r.initWatch()),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r),r.init({blockImgs:r.blocks.map((function(t){return t.imgs})),prizeImgs:r.prizes.map((function(t){return t.imgs})),btnImgs:r.buttons.map((function(t){return t.imgs}))}),r}return i(e,t),e.prototype.initData=function(t){this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){return r({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:.8},t.defaultConfig)})),this.$computed(this,"_defaultStyle",(function(){return r({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("blocks",(function(e){return t.init({blockImgs:e.map((function(t){return t.imgs}))})}),{deep:!0}),this.$watch("prizes",(function(e){return t.init({prizeImgs:e.map((function(t){return t.imgs}))})}),{deep:!0}),this.$watch("buttons",(function(e){return t.init({btnImgs:e.map((function(t){return t.imgs}))})}),{deep:!0}),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init({})})),this.$watch("endCallback",(function(){return t.init({})}))},e.prototype.init=function(e){var n,i,r=this;t.prototype.init.call(this);var o=this.config,s=this.ctx;this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,null===(n=o.beforeInit)||void 0===n||n.call(this),s.translate(this.Radius,this.Radius),this.draw(),this.draw(),Object.keys(e).forEach((function(t){var n=t,i={blockImgs:"blocks",prizeImgs:"prizes",btnImgs:"buttons"}[n],o=e[n];o&&o.forEach((function(t,e){t&&t.forEach((function(t,o){r.loadAndCacheImg(i,e,n,o,(function(){r.draw()}))}))}))})),null===(i=o.afterInit)||void 0===i||i.call(this)},e.prototype.handleClick=function(t){var e,n=this.ctx;n.beginPath(),n.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),n.isPointInPath(t.offsetX,t.offsetY)&&(this.startTime||null===(e=this.startCallback)||void 0===e||e.call(this,t))},e.prototype.loadAndCacheImg=function(t,e,n,i,r){return o(this,void 0,void 0,(function(){var o,a,c=this;return s(this,(function(s){return(o=this[t][e])&&o.imgs&&(a=o.imgs[i])?(this[n][e]||(this[n][e]=[]),this.loadImg(a.src,a).then((function(t){c[n][e][i]=t,r.call(c)})).catch((function(n){console.error(t+"["+e+"].imgs["+i+"] "+n)})),[2]):[2]}))}))},e.prototype.computedWidthAndHeight=function(t,e,n,i){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var r=this.getWidth(e.width,n);return[r,t.height*(r/t.width)]}if(!e.width&&e.height){var o=this.getHeight(e.height,i);return[t.width*(o/t.height),o]}return[this.getWidth(e.width,n),this.getHeight(e.height,i)]},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,s=i._defaultConfig,a=i._defaultStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce((function(t,e,i){return l(e.background)&&(o.beginPath(),o.fillStyle=e.background,o.arc(0,0,t,0,2*Math.PI,!1),o.fill()),e.imgs&&e.imgs.forEach((function(e,r){if(n.blockImgs[i]){var s=n.blockImgs[i][r];if(s){var a=n.computedWidthAndHeight(s,e,2*t,2*t),c=a[0],u=a[1],l=[n.getOffsetX(c),n.getHeight(e.top,2*t)-t],h=l[0],f=l[1];o.save(),e.rotate&&o.rotate(k(n.rotateDeg)),n.drawImage(s,h,f,c,u),o.restore()}}})),t-n.getLength(e.padding&&e.padding.split(" ")[0])}),this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeRadian=k(this.prizeDeg);var c=k(-90+this.rotateDeg+s.offsetDegree),h=function(t){return n.getOffsetX(o.measureText(t).width)},f=function(t,e,i){var r=t.lineHeight||a.lineHeight||t.fontSize||a.fontSize;return n.getHeight(t.top,e)+(i+1)*n.getLength(r)};o.save(),this.prizes.forEach((function(t,e){var i=c+e*n.prizeRadian,d=n.prizeRadius-n.maxBtnRadius,p=t.background||a.background;l(p)&&function(t,e,n,i,r,o,s,a){s?function(t,e,n,i,r,o,s,a){n||(n=s);var c=k(90/Math.PI/i*s),u=k(90/Math.PI/n*s),l=r+c,h=o-c,f=r+u,d=o-u;e.beginPath(),e.fillStyle=a,e.moveTo.apply(e,x(l,i)),I(t,e,i,l,h,!0),d>f?I(t,e,n,f,d,!1):e.lineTo.apply(e,x((r+o)/2,s/2/Math.abs(Math.sin((r-o)/2)))),e.closePath(),e.fill()}(t,e,n,i,r,o,s,a):(e.beginPath(),e.fillStyle=a,e.moveTo(0,0),e.arc(0,0,i,r,o,!1),e.closePath(),e.fill())}(r.flag,o,n.maxBtnRadius,n.prizeRadius,i-n.prizeRadian/2,i+n.prizeRadian/2,n.getLength(s.gutter),p);var g=Math.cos(i)*n.prizeRadius,y=Math.sin(i)*n.prizeRadius;o.translate(g,y),o.rotate(i+k(90)),t.imgs&&t.imgs.forEach((function(t,i){if(n.prizeImgs[e]){var r=n.prizeImgs[e][i];if(r){var o=n.computedWidthAndHeight(r,t,n.prizeRadian*n.prizeRadius,d),s=o[0],a=o[1],c=[n.getOffsetX(s),n.getHeight(t.top,d)],u=c[0],l=c[1];n.drawImage(r,u,l,s,a)}}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||a.fontColor,i=t.fontWeight||a.fontWeight,r=n.getLength(t.fontSize||a.fontSize),c=t.fontStyle||a.fontStyle;o.fillStyle=e,o.font=i+" "+(r>>0)+"px "+c;var l=[],p=String(t.text);if(Object.prototype.hasOwnProperty.call(t,"wordWrap")?t.wordWrap:a.wordWrap){p=u(p);for(var g="",y=0;y<p.length;y++){g+=p[y];var m=o.measureText(g).width,v=(n.prizeRadius-f(t,d,l.length))*Math.tan(n.prizeRadian/2)*2-n.getLength(s.gutter);m>n.getWidth(t.lengthLimit||a.lengthLimit,v)&&(l.push(g.slice(0,-1)),g=p[y])}g&&l.push(g),l.length||l.push(p)}else l=p.split("\n");l.filter((function(t){return!!t})).forEach((function(e,n){o.fillText(e,h(e),f(t,d,n))}))})),o.rotate(k(360)-i-k(90)),o.translate(-g,-y)})),o.restore(),this.buttons.forEach((function(t,e){var i=n.getHeight(t.radius);n.maxBtnRadius=Math.max(n.maxBtnRadius,i),l(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.arc(0,0,i,0,2*Math.PI,!1),o.fill()),t.pointer&&l(t.background)&&(o.beginPath(),o.fillStyle=t.background,o.moveTo(-i,0),o.lineTo(i,0),o.lineTo(0,2*-i),o.closePath(),o.fill()),t.imgs&&t.imgs.forEach((function(t,r){if(n.btnImgs[e]){var o=n.btnImgs[e][r];if(o){var s=n.computedWidthAndHeight(o,t,2*i,2*i),a=s[0],c=s[1],u=[n.getOffsetX(a),n.getHeight(t.top,i)],l=u[0],h=u[1];n.drawImage(o,l,h,a,c)}}})),t.fonts&&t.fonts.forEach((function(t){var e=t.fontColor||a.fontColor,r=t.fontWeight||a.fontWeight,s=n.getLength(t.fontSize||a.fontSize),c=t.fontStyle||a.fontStyle;o.fillStyle=e,o.font=r+" "+(s>>0)+"px "+c,String(t.text).split("\n").forEach((function(e,n){o.fillText(e,h(e),f(t,i,n))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.play=function(){this.startTime||(this.startTime=Date.now(),this.prizeFlag=void 0,this.run())},e.prototype.stop=function(t){this.prizeFlag=t<0?-1:t%this.prizes.length,-1===this.prizeFlag&&(this.rotateDeg=this.prizeDeg/2-this._defaultConfig.offsetDegree,this.draw())},e.prototype.run=function(t){void 0===t&&(t=0);var e=this,n=e.rAF,i=e.prizeFlag,r=e.prizeDeg,o=e.rotateDeg,s=e._defaultConfig,a=Date.now()-this.startTime;if(a>=s.accelerationTime&&void 0!==i){this.FPS=a/t,this.endTime=Date.now(),this.stopDeg=o;for(var c=(Math.random()*r-r/2)*this.getLength(s.stopRange),u=0;++u;){var l=360*u-i*r-o-s.offsetDegree+c;if(E[s.speedFunction].easeOut(this.FPS,this.stopDeg,l,s.decelerationTime)-this.stopDeg>s.speed){this.endDeg=l;break}}return this.slowDown()}this.rotateDeg=(o+E[s.speedFunction].easeIn(a,0,s.speed,s.accelerationTime))%360,this.draw(),n(this.run.bind(this,t+1))},e.prototype.slowDown=function(){var t,e=this,n=e.rAF,i=e.prizes,o=e.prizeFlag,s=e.stopDeg,a=e.endDeg,c=e._defaultConfig,u=Date.now()-this.endTime;if(-1!==o){if(u>=c.decelerationTime)return this.startTime=0,void(null===(t=this.endCallback)||void 0===t||t.call(this,r({},i.find((function(t,e){return e===o})))));this.rotateDeg=E[c.speedFunction].easeOut(u,s,a,c.decelerationTime)%360,this.draw(),n(this.slowDown.bind(this))}else this.startTime=0},e.prototype.getWidth=function(t,e){return void 0===e&&(e=this.prizeRadian*this.prizeRadius),c(t,"number")?t:c(t,"string")?this.changeUnits(t,e):0},e.prototype.getHeight=function(t,e){return void 0===e&&(e=this.prizeRadius),c(t,"number")?t:c(t,"string")?this.changeUnits(t,e):0},e.prototype.getOffsetX=function(t){return-t/2},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr-this.Radius,e/n.dpr-this.Radius]},e}(_),W=function(t){function e(e,n){var i;void 0===n&&(n={});var r=t.call(this,e)||this;r.rows=3,r.cols=3,r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r._defaultConfig={gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},r.defaultStyle={},r._defaultStyle={borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",lineHeight:"",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},r.activeStyle={},r._activeStyle={background:"#ffce98",shadow:"",fontStyle:"",fontWeight:"",fontSize:"",lineHeight:"",fontColor:""},r.cellWidth=0,r.cellHeight=0,r.startTime=0,r.endTime=0,r.currIndex=0,r.stopIndex=0,r.endIndex=0,r.demo=!1,r.timer=0,r.FPS=16.6,r.prizeFlag=-1,r.cells=[],r.blockImgs=[[]],r.btnImgs=[[]],r.prizeImgs=[],e.ob&&(r.initData(n),r.initWatch()),r.initComputed(),null===(i=e.beforeCreate)||void 0===i||i.call(r);var o=r.buttons.map((function(t){return t.imgs}));return r.button&&o.push(r.button.imgs),r.init({blockImgs:r.blocks.map((function(t){return t.imgs})),prizeImgs:r.prizes.map((function(t){return t.imgs})),btnImgs:o}),r}return i(e,t),e.prototype.initData=function(t){this.$set(this,"rows",Number(t.rows)||3),this.$set(this,"cols",Number(t.cols)||3),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"button",t.button),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"activeStyle",t.activeStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",(function(){var e=r({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.gutter=t.getLength(e.gutter),e.speed=e.speed/40,e})),this.$computed(this,"_defaultStyle",(function(){return r({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)})),this.$computed(this,"_activeStyle",(function(){return r({background:"#ffce98",shadow:""},t.activeStyle)}))},e.prototype.initWatch=function(){var t=this;this.$watch("blocks",(function(e){return t.init({blockImgs:e.map((function(t){return t.imgs}))})}),{deep:!0}),this.$watch("prizes",(function(e){return t.init({prizeImgs:e.map((function(t){return t.imgs}))})}),{deep:!0}),this.$watch("buttons",(function(e){var n=e.map((function(t){return t.imgs}));return t.button&&n.push(t.button.imgs),t.init({btnImgs:n})}),{deep:!0}),this.$watch("button",(function(){var e=t.buttons.map((function(t){return t.imgs}));return t.button&&e.push(t.button.imgs),t.init({btnImgs:e})}),{deep:!0}),this.$watch("rows",(function(){return t.init({})})),this.$watch("cols",(function(){return t.init({})})),this.$watch("defaultConfig",(function(){return t.draw()}),{deep:!0}),this.$watch("defaultStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("activeStyle",(function(){return t.draw()}),{deep:!0}),this.$watch("startCallback",(function(){return t.init({})})),this.$watch("endCallback",(function(){return t.init({})}))},e.prototype.init=function(e){var n,i,r=this;t.prototype.init.call(this);var o=this,s=o.config;o.ctx,o.button,null===(n=s.beforeInit)||void 0===n||n.call(this),this.draw(),Object.keys(e).forEach((function(t){var n=t,i=e[n],o={blockImgs:"blocks",prizeImgs:"prizes",btnImgs:"buttons"}[n];i&&i.forEach((function(t,e){t&&t.forEach((function(t,i){r.loadAndCacheImg(o,e,n,i,(function(){r.draw()}))}))}))})),null===(i=s.afterInit)||void 0===i||i.call(this)},e.prototype.handleClick=function(t){var e=this,n=this.ctx;a(a([],this.buttons),[this.button]).forEach((function(i){var r;if(i){var o=e.getGeometricProperty([i.x,i.y,i.col||1,i.row||1]),s=o[0],a=o[1],c=o[2],u=o[3];n.beginPath(),n.rect(s,a,c,u),n.isPointInPath(t.offsetX,t.offsetY)&&(e.startTime||("function"==typeof i.callback&&i.callback.call(e,i),null===(r=e.startCallback)||void 0===r||r.call(e,t,i)))}}))},e.prototype.loadAndCacheImg=function(t,e,n,i,r){return o(this,void 0,void 0,(function(){var o,a,c,u=this;return s(this,(function(s){return o=this[t][e],"buttons"===t&&!this.buttons.length&&this.button&&(o=this.button),o&&o.imgs&&(a=o.imgs[i])?(this[n][e]||(this[n][e]=[]),c=[this.loadImg(a.src,a),a.activeSrc&&this.loadImg(a.activeSrc,a,"$activeResolve")],Promise.all(c).then((function(t){var o=t[0],s=t[1];u[n][e][i]={defaultImg:o,activeImg:s},r.call(u)})).catch((function(n){console.error(t+"["+e+"].imgs["+i+"] "+n)})),[2]):[2]}))}))},e.prototype.computedWidthAndHeight=function(t,e,n){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var i=this.getWidth(e.width,n.col);return[i,t.height*(i/t.width)]}if(!e.width&&e.height){var r=this.getHeight(e.height,n.row);return[t.width*(r/t.height),r]}return[this.getWidth(e.width,n.col),this.getHeight(e.height,n.row)]},e.prototype.draw=function(){var t,e,n=this,i=this,r=i.config,o=i.ctx,s=i._defaultConfig,h=i._defaultStyle,f=i._activeStyle;null===(t=r.beforeDraw)||void 0===t||t.call(this,o),o.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=a(a([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach((function(t){t.col=t.col||1,t.row=t.row||1})),this.prizeArea=this.blocks.reduce((function(t,e){var i=t.x,r=t.y,s=t.w,a=t.h,u=function(t){var e,n=(null===(e=t.padding)||void 0===e?void 0:e.replace(/px/g,"").split(" ").map((function(t){return~~t})))||[0],i=0,r=0,o=0,s=0;switch(n.length){case 1:i=r=o=s=n[0];break;case 2:i=r=n[0],o=s=n[1];break;case 3:i=n[0],o=s=n[1],r=n[2];break;default:i=n[0],r=n[1],o=n[2],s=n[3]}var a={paddingTop:i,paddingBottom:r,paddingLeft:o,paddingRight:s};for(var u in a)a[u]=Object.prototype.hasOwnProperty.call(t,u)&&c(t[u],"string","number")?~~String(t[u]).replace(/px/g,""):a[u];return[i,r,o,s]}(e),f=u[0],d=u[1],p=u[2],g=u[3],y=e.borderRadius?n.getLength(e.borderRadius):0,m=e.background||h.background;return l(m)&&z(o,i,r,s,a,y,n.handleBackground(i,r,s,a,m)),{x:i+p,y:r+f,w:s-p-g,h:a-f-d}}),{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-s.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-s.gutter*(this.rows-1))/this.rows,this.cells.forEach((function(t,e){var i=n.getGeometricProperty([t.x,t.y,t.col,t.row]),s=i[0],a=i[1],c=i[2],d=i[3],p=!1;(void 0===n.prizeFlag||n.prizeFlag>-1)&&(p=e===n.currIndex%n.prizes.length>>0);var g=p?f.background:t.background||h.background;if(l(g)){var y=(p?f.shadow:t.shadow||h.shadow).replace(/px/g,"").split(",")[0].split(" ").map((function(t,e){return e<3?Number(t):t}));4===y.length&&(o.shadowColor=y[3],o.shadowOffsetX=y[0]*r.dpr,o.shadowOffsetY=y[1]*r.dpr,o.shadowBlur=y[2],y[0]>0?c-=y[0]:(c+=y[0],s-=y[0]),y[1]>0?d-=y[1]:(d+=y[1],a-=y[1])),z(o,s,a,c,d,n.getLength(t.borderRadius?t.borderRadius:h.borderRadius),n.handleBackground(s,a,c,d,g)),o.shadowColor="rgba(0, 0, 0, 0)",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=0}var m="prizeImgs";e>=n.prizes.length&&(m="btnImgs",e-=n.prizes.length),t.imgs&&t.imgs.forEach((function(i,r){if(n[m][e]){var o=n[m][e][r];if(o){var c=p&&o.activeImg||o.defaultImg;if(c){var u=n.computedWidthAndHeight(c,i,t),l=u[0],h=u[1],f=[s+n.getOffsetX(l,t.col),a+n.getHeight(i.top,t.row)],d=f[0],g=f[1];n.drawImage(c,d,g,l,h)}}}})),t.fonts&&t.fonts.forEach((function(e){var i=p&&f.fontStyle?f.fontStyle:e.fontStyle||h.fontStyle,r=p&&f.fontWeight?f.fontWeight:e.fontWeight||h.fontWeight,c=p&&f.fontSize?n.getLength(f.fontSize):n.getLength(e.fontSize||h.fontSize),l=p&&f.lineHeight?f.lineHeight:e.lineHeight||h.lineHeight||e.fontSize||h.fontSize;o.font=r+" "+(c>>0)+"px "+i,o.fillStyle=p&&f.fontColor?f.fontColor:e.fontColor||h.fontColor;var d=[],g=String(e.text);if(Object.prototype.hasOwnProperty.call(e,"wordWrap")?e.wordWrap:h.wordWrap){g=u(g);for(var y="",m=0;m<g.length;m++)y+=g[m],o.measureText(y).width>n.getWidth(e.lengthLimit||h.lengthLimit,t.col)&&(d.push(y.slice(0,-1)),y=g[m]);y&&d.push(y),d.length||d.push(g)}else d=g.split("\n");d.forEach((function(i,r){o.fillText(i,s+n.getOffsetX(o.measureText(i).width,t.col),a+n.getHeight(e.top,t.row)+(r+1)*n.getLength(l))}))}))})),null===(e=r.afterDraw)||void 0===e||e.call(this,o)},e.prototype.handleBackground=function(t,e,n,i,r){var o=this.ctx;return r.includes("linear-gradient")&&(r=function(t,e,n,i,r,o){var s=/linear-gradient\((.+)\)/.exec(o)[1].split(",").map((function(t){return t.trim()})),a=s.shift(),c=[0,0,0,0];if(a.includes("deg")){var u=function(t){return Math.tan(t/180*Math.PI)};(a=a.slice(0,-3)%360)>=0&&a<45?c=[e,n+r,e+i,n+r-i*u(a-0)]:a>=45&&a<90?c=[e,n+r,e+i-r*u(a-45),n]:a>=90&&a<135?c=[e+i,n+r,e+i-r*u(a-90),n]:a>=135&&a<180?c=[e+i,n+r,e,n+i*u(a-135)]:a>=180&&a<225?c=[e+i,n,e,n+i*u(a-180)]:a>=225&&a<270?c=[e+i,n,e+r*u(a-225),n+r]:a>=270&&a<315?c=[e,n,e+r*u(a-270),n+r]:a>=315&&a<360&&(c=[e,n,e+i,n+r-i*u(a-315)])}else a.includes("top")?c=[e,n+r,e,n]:a.includes("bottom")?c=[e,n,e,n+r]:a.includes("left")?c=[e+i,n,e,n]:a.includes("right")&&(c=[e,n,e+i,n]);var l=t.createLinearGradient.apply(t,c.map((function(t){return t>>0})));return s.reduce((function(t,e,n){var i=e.split(" ");return 1===i.length?t.addColorStop(n,i[0]):2===i.length&&t.addColorStop.apply(t,i),t}),l)}(o,t,e,n,i,r)),r},e.prototype.play=function(){var t=this.config.clearInterval;this.startTime||(t(this.timer),this.startTime=Date.now(),this.prizeFlag=void 0,this.run())},e.prototype.stop=function(t){this.prizeFlag=t<0?-1:t%this.prizes.length,-1===this.prizeFlag&&(this.currIndex=0,this.draw())},e.prototype.run=function(t){void 0===t&&(t=0);var e=this,n=e.rAF,i=e.currIndex,r=e.prizes,o=e.prizeFlag,s=e.startTime,a=e._defaultConfig,c=Date.now()-s;if(c>=a.accelerationTime&&void 0!==o){this.FPS=c/t,this.endTime=Date.now(),this.stopIndex=i;for(var u=0;++u;){var l=r.length*u+o-(i>>0);if(C.easeOut(this.FPS,this.stopIndex,l,a.decelerationTime)-this.stopIndex>a.speed){this.endIndex=l;break}}return this.slowDown()}this.currIndex=(i+C.easeIn(c,.1,a.speed,a.accelerationTime))%r.length,this.draw(),n(this.run.bind(this,t+1))},e.prototype.slowDown=function(){var t,e=this,n=e.rAF,i=e.prizes,o=e.prizeFlag,s=e.stopIndex,a=e.endIndex,c=e._defaultConfig,u=Date.now()-this.endTime;if(-1!==o){if(u>c.decelerationTime)return this.startTime=0,void(null===(t=this.endCallback)||void 0===t||t.call(this,r({},i.find((function(t,e){return e===o})))));this.currIndex=C.easeOut(u,s,a,c.decelerationTime)%i.length,this.draw(),n(this.slowDown.bind(this))}else this.startTime=0},e.prototype.walk=function(){var t=this,e=this.config,n=e.setInterval;(0,e.clearInterval)(this.timer),this.timer=n((function(){t.currIndex+=1,t.draw()}),1300)},e.prototype.getGeometricProperty=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=this.cellWidth,s=this.cellHeight,a=this._defaultConfig.gutter,c=[this.prizeArea.x+(o+a)*e,this.prizeArea.y+(s+a)*n];return i&&r&&c.push(o*i+a*(i-1),s*r+a*(r-1)),c},e.prototype.getWidth=function(t,e){return void 0===e&&(e=1),c(t,"number")?t:c(t,"string")?this.changeUnits(t,this.cellWidth*e+this._defaultConfig.gutter*(e-1)):0},e.prototype.getHeight=function(t,e){return void 0===e&&(e=1),c(t,"number")?t:c(t,"string")?this.changeUnits(t,this.cellHeight*e+this._defaultConfig.gutter*(e-1)):0},e.prototype.getOffsetX=function(t,e){return void 0===e&&(e=1),(this.cellWidth*e+this._defaultConfig.gutter*(e-1)-t)/2},e.prototype.conversionAxis=function(t,e){var n=this.config;return[t/n.dpr,e/n.dpr]},e}(_);e.LuckyGrid=W,e.LuckyWheel=R},982:(t,e,n)=>{t.exports=n(317)},587:(t,e,n)=>{"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let t=0;t<i.length;t++)n[i[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{default:()=>Qe});const r=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function o(t){if(v(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=o(_(i)?c(i):i);if(r)for(const t in r)e[t]=r[t]}return e}if(x(t))return t}const s=/;(?![^(]*\))/g,a=/:(.+)/;function c(t){const e={};return t.split(s).forEach((t=>{if(t){const n=t.split(a);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function u(t){let e="";if(_(t))e=t;else if(v(t))for(let n=0;n<t.length;n++){const i=u(t[n]);i&&(e+=i+" ")}else if(x(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const l={},h=[],f=()=>{},d=/^on[^a-z]/,p=t=>d.test(t),g=Object.assign,y=Object.prototype.hasOwnProperty,m=(t,e)=>y.call(t,e),v=Array.isArray,b=t=>"[object Map]"===I(t),w=t=>"function"==typeof t,_=t=>"string"==typeof t,k=t=>"symbol"==typeof t,x=t=>null!==t&&"object"==typeof t,S=Object.prototype.toString,I=t=>S.call(t),z=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,C=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},$=/-(\w)/g,O=(C((t=>t.replace($,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),T=(C((t=>t.replace(O,"-$1").toLowerCase())),C((t=>t.charAt(0).toUpperCase()+t.slice(1)))),E=(C((t=>t?`on${T(t)}`:"")),(t,e)=>t!==e&&(t==t||e==e)),R=new WeakMap,W=[];let P;const F=Symbol(""),A=Symbol("");function M(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return t();if(!W.includes(n)){L(n);try{return N.push(H),H=!0,W.push(n),P=n,t()}finally{W.pop(),U(),P=W[W.length-1]}}};return n.id=D++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function j(t){t.active&&(L(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let D=0;function L(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let H=!0;const N=[];function B(){N.push(H),H=!1}function U(){const t=N.pop();H=void 0===t||t}function q(t,e,n){if(!H||void 0===P)return;let i=R.get(t);i||R.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=new Set),r.has(P)||(r.add(P),P.deps.push(r))}function G(t,e,n,i,r,o){const s=R.get(t);if(!s)return;const a=new Set,c=t=>{t&&t.forEach((t=>{(t!==P||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(c);else if("length"===n&&v(t))s.forEach(((t,e)=>{("length"===e||e>=i)&&c(t)}));else switch(void 0!==n&&c(s.get(n)),e){case"add":v(t)?z(n)&&c(s.get("length")):(c(s.get(F)),b(t)&&c(s.get(A)));break;case"delete":v(t)||(c(s.get(F)),b(t)&&c(s.get(A)));break;case"set":b(t)&&c(s.get(F))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const X=i("__proto__,__v_isRef,__isVue"),V=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(k)),Y=tt(),J=tt(!1,!0),K=tt(!0),Z=tt(!0,!0),Q={};function tt(t=!1,e=!1){return function(n,i,r){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&r===(t?e?$t:Ct:e?zt:It).get(n))return n;const o=v(n);if(!t&&o&&m(Q,i))return Reflect.get(Q,i,r);const s=Reflect.get(n,i,r);return(k(i)?V.has(i):X(i))?s:(t||q(n,0,i),e?s:At(s)?o&&z(i)?s:s.value:x(s)?t?Tt(s):Ot(s):s)}}function et(t=!1){return function(e,n,i,r){let o=e[n];if(!t&&(i=Ft(i),o=Ft(o),!v(e)&&At(o)&&!At(i)))return o.value=i,!0;const s=v(e)&&z(n)?Number(n)<e.length:m(e,n),a=Reflect.set(e,n,i,r);return e===Ft(r)&&(s?E(i,o)&&G(e,"set",n,i):G(e,"add",n,i)),a}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];Q[t]=function(...t){const n=Ft(this);for(let t=0,e=this.length;t<e;t++)q(n,0,t+"");const i=e.apply(n,t);return-1===i||!1===i?e.apply(n,t.map(Ft)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];Q[t]=function(...t){B();const n=e.apply(this,t);return U(),n}}));const nt={get:Y,set:et(),deleteProperty:function(t,e){const n=m(t,e),i=(t[e],Reflect.deleteProperty(t,e));return i&&n&&G(t,"delete",e,void 0),i},has:function(t,e){const n=Reflect.has(t,e);return k(e)&&V.has(e)||q(t,0,e),n},ownKeys:function(t){return q(t,0,v(t)?"length":F),Reflect.ownKeys(t)}},it={get:K,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},rt=(g({},nt,{get:J,set:et(!0)}),g({},it,{get:Z}),t=>x(t)?Ot(t):t),ot=t=>x(t)?Tt(t):t,st=t=>t,at=t=>Reflect.getPrototypeOf(t);function ct(t,e,n=!1,i=!1){const r=Ft(t=t.__v_raw),o=Ft(e);e!==o&&!n&&q(r,0,e),!n&&q(r,0,o);const{has:s}=at(r),a=i?st:n?ot:rt;return s.call(r,e)?a(t.get(e)):s.call(r,o)?a(t.get(o)):void(t!==r&&t.get(e))}function ut(t,e=!1){const n=this.__v_raw,i=Ft(n),r=Ft(t);return t!==r&&!e&&q(i,0,t),!e&&q(i,0,r),t===r?n.has(t):n.has(t)||n.has(r)}function lt(t,e=!1){return t=t.__v_raw,!e&&q(Ft(t),0,F),Reflect.get(t,"size",t)}function ht(t){t=Ft(t);const e=Ft(this);return at(e).has.call(e,t)||(e.add(t),G(e,"add",t,t)),this}function ft(t,e){e=Ft(e);const n=Ft(this),{has:i,get:r}=at(n);let o=i.call(n,t);o||(t=Ft(t),o=i.call(n,t));const s=r.call(n,t);return n.set(t,e),o?E(e,s)&&G(n,"set",t,e):G(n,"add",t,e),this}function dt(t){const e=Ft(this),{has:n,get:i}=at(e);let r=n.call(e,t);r||(t=Ft(t),r=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return r&&G(e,"delete",t,void 0),o}function pt(){const t=Ft(this),e=0!==t.size,n=t.clear();return e&&G(t,"clear",void 0,void 0),n}function gt(t,e){return function(n,i){const r=this,o=r.__v_raw,s=Ft(o),a=e?st:t?ot:rt;return!t&&q(s,0,F),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function yt(t,e,n){return function(...i){const r=this.__v_raw,o=Ft(r),s=b(o),a="entries"===t||t===Symbol.iterator&&s,c="keys"===t&&s,u=r[t](...i),l=n?st:e?ot:rt;return!e&&q(o,0,c?A:F),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function mt(t){return function(...e){return"delete"!==t&&this}}const vt={get(t){return ct(this,t)},get size(){return lt(this)},has:ut,add:ht,set:ft,delete:dt,clear:pt,forEach:gt(!1,!1)},bt={get(t){return ct(this,t,!1,!0)},get size(){return lt(this)},has:ut,add:ht,set:ft,delete:dt,clear:pt,forEach:gt(!1,!0)},wt={get(t){return ct(this,t,!0)},get size(){return lt(this,!0)},has(t){return ut.call(this,t,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:gt(!0,!1)},_t={get(t){return ct(this,t,!0,!0)},get size(){return lt(this,!0)},has(t){return ut.call(this,t,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:gt(!0,!0)};function kt(t,e){const n=e?t?_t:bt:t?wt:vt;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(m(n,i)&&i in e?n:e,i,r)}["keys","values","entries",Symbol.iterator].forEach((t=>{vt[t]=yt(t,!1,!1),wt[t]=yt(t,!0,!1),bt[t]=yt(t,!1,!0),_t[t]=yt(t,!0,!0)}));const xt={get:kt(!1,!1)},St=(kt(!1,!0),{get:kt(!0,!1)});kt(!0,!0);const It=new WeakMap,zt=new WeakMap,Ct=new WeakMap,$t=new WeakMap;function Ot(t){return t&&t.__v_isReadonly?t:Et(t,!1,nt,xt,It)}function Tt(t){return Et(t,!0,it,St,Ct)}function Et(t,e,n,i,r){if(!x(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const s=(a=t).__v_skip||!Object.isExtensible(a)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>I(t).slice(8,-1))(a));var a;if(0===s)return t;const c=new Proxy(t,2===s?i:n);return r.set(t,c),c}function Rt(t){return Wt(t)?Rt(t.__v_raw):!(!t||!t.__v_isReactive)}function Wt(t){return!(!t||!t.__v_isReadonly)}function Pt(t){return Rt(t)||Wt(t)}function Ft(t){return t&&Ft(t.__v_raw)||t}function At(t){return Boolean(t&&!0===t.__v_isRef)}function Mt(t,e,n,i){let r;try{r=i?t(...i):t()}catch(t){Dt(t,e,n)}return r}function jt(t,e,n,i){if(w(t)){const o=Mt(t,e,n,i);return o&&x(r=o)&&w(r.then)&&w(r.catch)&&o.catch((t=>{Dt(t,e,n)})),o}var r;const o=[];for(let r=0;r<t.length;r++)o.push(jt(t[r],e,n,i));return o}function Dt(t,e,n,i=!0){if(e&&e.vnode,e){let i=e.parent;const r=e.proxy,o=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;i=i.parent}const s=e.appContext.config.errorHandler;if(s)return void Mt(s,null,10,[t,r,o])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let Lt=!1,Ht=!1;const Nt=[];let Bt=0;const Ut=[];let qt=null,Gt=0;const Xt=[];let Vt=null,Yt=0;const Jt=Promise.resolve();let Kt=null,Zt=null;function Qt(t){const e=Kt||Jt;return t?e.then(this?t.bind(this):t):e}function te(){Lt||Ht||(Ht=!0,Kt=Jt.then(re))}function ee(t,e,n,i){v(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),te()}function ne(t,e=null){if(Ut.length){for(Zt=e,qt=[...new Set(Ut)],Ut.length=0,Gt=0;Gt<qt.length;Gt++)qt[Gt]();qt=null,Gt=0,Zt=null,ne(t,e)}}const ie=t=>null==t.id?1/0:t.id;function re(t){Ht=!1,Lt=!0,ne(t),Nt.sort(((t,e)=>ie(t)-ie(e)));try{for(Bt=0;Bt<Nt.length;Bt++){const t=Nt[Bt];t&&!1!==t.active&&Mt(t,null,14)}}finally{Bt=0,Nt.length=0,function(t){if(Xt.length){const t=[...new Set(Xt)];if(Xt.length=0,Vt)return void Vt.push(...t);for(Vt=t,Vt.sort(((t,e)=>ie(t)-ie(e))),Yt=0;Yt<Vt.length;Yt++)Vt[Yt]();Vt=null,Yt=0}}(),Lt=!1,Kt=null,(Nt.length||Ut.length||Xt.length)&&re(t)}}new Set,new Map;Object.create(null),Object.create(null);let oe=null;const se={};function ae(t,e,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:s}=l,a=Ae){let c,u,h=!1,d=!1;if(At(t)?(c=()=>t.value,h=!!t._shallow):Rt(t)?(c=()=>t,i=!0):v(t)?(d=!0,h=t.some(Rt),c=()=>t.map((t=>At(t)?t.value:Rt(t)?ue(t):w(t)?Mt(t,a,2):void 0))):c=w(t)?e?()=>Mt(t,a,2):()=>{if(!a||!a.isUnmounted)return u&&u(),jt(t,a,3,[p])}:f,e&&i){const t=c;c=()=>ue(t())}let p=t=>{u=b.options.onStop=()=>{Mt(t,a,4)}},g=d?[]:se;const y=()=>{if(b.active)if(e){const t=b();(i||h||(d?t.some(((t,e)=>E(t,g[e]))):E(t,g)))&&(u&&u(),jt(e,a,3,[t,g===se?void 0:g,p]),g=t)}else b()};let m;y.allowRecurse=!!e,m="sync"===r?y:"post"===r?()=>me(y,a&&a.suspense):()=>{!a||a.isMounted?function(t){ee(t,qt,Ut,Gt)}(y):y()};const b=M(c,{lazy:!0,onTrack:o,onTrigger:s,scheduler:m});return function(t,e=Ae){e&&(e.effects||(e.effects=[])).push(t)}(b,a),e?n?y():g=b():"post"===r?me(b,a&&a.suspense):b(),()=>{j(b),a&&((t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)})(a.effects,b)}}function ce(t,e,n){const i=this.proxy,r=_(t)?t.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(i,t):()=>i[t]:t.bind(i,i);let o;return w(e)?o=e:(o=e.handler,n=e),ae(r,o.bind(i),n,this)}function ue(t,e=new Set){if(!x(t)||e.has(t)||t.__v_skip)return t;if(e.add(t),At(t))ue(t.value,e);else if(v(t))for(let n=0;n<t.length;n++)ue(t[n],e);else if("[object Set]"===I(t)||b(t))t.forEach((t=>{ue(t,e)}));else if((t=>"[object Object]"===I(t))(t))for(const n in t)ue(t[n],e);return t}Boolean,Boolean;RegExp,RegExp;const le=t=>(e,n=Ae)=>(!je||"sp"===t)&&function(t,e,n=Ae,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;B(),Me(n);const r=jt(e,n,t,i);return Me(null),U(),r});return i?r.unshift(o):r.push(o),o}}(t,e,n);le("bm"),le("m"),le("bu"),le("u"),le("bum");le("um"),le("sp"),le("rtg"),le("rtc");function he(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&he(t,o,n,!0),r&&r.forEach((e=>he(t,e,n,!0)));for(const r in e)if(i&&"expose"===r);else{const i=fe[r]||n&&n[r];t[r]=i?i(t[r],e[r]):e[r]}return t}const fe={data:de,props:ye,emits:ye,methods:ye,computed:ye,beforeCreate:ge,created:ge,beforeMount:ge,mounted:ge,beforeUpdate:ge,updated:ge,beforeDestroy:ge,destroyed:ge,activated:ge,deactivated:ge,errorCaptured:ge,serverPrefetch:ge,components:ye,directives:ye,watch:ye,provide:de,inject:function(t,e){return ye(pe(t),pe(e))}};function de(t,e){return e?t?function(){return g(w(t)?t.call(this,this):t,w(e)?e.call(this,this):e)}:e:t}function pe(t){if(v(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ge(t,e){return t?[...new Set([].concat(t,e))]:e}function ye(t,e){return t?g(g(Object.create(null),t),e):e}const me=function(t,e){e&&e.pendingBranch?v(t)?e.effects.push(...t):e.effects.push(t):ee(t,Vt,Xt,Yt)};const ve=Symbol(),be=Symbol(void 0),we=Symbol(void 0),_e=Symbol(void 0),ke=(Symbol(void 0),[]);let xe=null;function Se(t=!1){ke.push(xe=t?null:[])}function Ie(t,e,n,i,r){const o=Oe(t,e,n,i,r,!0);return o.dynamicChildren=xe||h,ke.pop(),xe=ke[ke.length-1]||null,xe&&xe.push(o),o}const ze="__vInternal",Ce=({key:t})=>null!=t?t:null,$e=({ref:t})=>null!=t?_(t)||At(t)||w(t)?{i:oe,r:t}:t:null,Oe=function(t,e=null,n=null,i=0,r=null,s=!1){if(t&&t!==ve||(t=_e),a=t,a&&!0===a.__v_isVNode){const i=Te(t,e,!0);return n&&Re(i,n),i}var a;if(function(t){return w(t)&&"__vccOpts"in t}(t)&&(t=t.__vccOpts),e){(Pt(e)||ze in e)&&(e=g({},e));let{class:t,style:n}=e;t&&!_(t)&&(e.class=u(t)),x(n)&&(Pt(n)&&!v(n)&&(n=g({},n)),e.style=o(n))}const c=_(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:x(t)?4:w(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ce(e),ref:e&&$e(e),scopeId:null,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return Re(l,n),128&c&&t.normalize(l),!s&&xe&&(i>0||6&c)&&32!==i&&xe.push(l),l};function Te(t,e,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=t,c=e?function(...t){const e=g({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=u([e.class,i.class]));else if("style"===t)e.style=o([e.style,i.style]);else if(p(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Ce(c),ref:e&&e.ref?n&&r?v(r)?r.concat($e(e)):[r,$e(e)]:$e(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==be?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Te(t.ssContent),ssFallback:t.ssFallback&&Te(t.ssFallback),el:t.el,anchor:t.anchor}}function Ee(t=" ",e=0){return Oe(we,null,t,e)}function Re(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(v(e))n=16;else if("object"==typeof e){if(1&i||64&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),Re(t,n()),n._c&&(n._d=!0)))}{n=32;const t=e._;!t&&!(ze in e)&&(e._ctx=oe)}}else w(e)?(e={default:e,_ctx:oe},n=32):(e=String(e),64&i?(n=16,e=[Ee(e)]):n=8);t.children=e,t.shapeFlag|=n}const We=t=>t?4&t.vnode.shapeFlag?t.exposed?t.exposed:t.proxy:We(t.parent):null,Pe=g(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>We(t.parent),$root:t=>We(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?function(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let c;return a?c=a:r.length||n||i?(c={},r.length&&r.forEach((t=>he(c,t,s,!0))),he(c,e,s)):c=e,o.set(e,c),c}(t):t.type,$forceUpdate:t=>()=>function(t){if(!(Nt.length&&Nt.includes(t,Lt&&t.allowRecurse?Bt+1:Bt)||t===Zt)){const e=function(t){let e=Bt+1,n=Nt.length;const i=ie(t);for(;e<n;){const t=e+n>>>1;ie(Nt[t])<i?e=t+1:n=t}return e}(t);e>-1?Nt.splice(e,0,t):Nt.push(t),te()}}(t.update),$nextTick:t=>Qt.bind(t.proxy),$watch:t=>__VUE_OPTIONS_API__?ce.bind(t):f}),Fe={get({_:t},e){const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:c}=t;if("__v_skip"===e)return!0;let u;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return i[e];case 1:return r[e];case 3:return n[e];case 2:return o[e]}else{if(i!==l&&m(i,e))return s[e]=0,i[e];if(r!==l&&m(r,e))return s[e]=1,r[e];if((u=t.propsOptions[0])&&m(u,e))return s[e]=2,o[e];if(n!==l&&m(n,e))return s[e]=3,n[e];__VUE_OPTIONS_API__,s[e]=4}}const h=Pe[e];let f,d;return h?("$attrs"===e&&q(t,0,e),h(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==l&&m(n,e)?(s[e]=3,n[e]):(d=c.config.globalProperties,m(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;if(r!==l&&m(r,e))r[e]=n;else if(i!==l&&m(i,e))i[e]=n;else if(m(t.props,e))return!1;return!("$"===e[0]&&e.slice(1)in t||(o[e]=n,0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return void 0!==n[s]||t!==l&&m(t,s)||e!==l&&m(e,s)||(a=o[0])&&m(a,s)||m(i,s)||m(Pe,s)||m(r.config.globalProperties,s)}};g({},Fe,{get(t,e){if(e!==Symbol.unscopables)return Fe.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!r(e)}),Object.create(null),new WeakMap,new WeakMap,new WeakMap;let Ae=null;const Me=t=>{Ae=t};let je=!1;Symbol("");const De={style:{background:"#ff4a4c","border-radius":"4px",color:"#eee","text-align":"center",padding:"10px 20px"}},Le=Oe("p",null,"请使用<luckyWheel /> 或 <luckyGrid />新版组件",-1),He=Oe("p",null,"新增图片引入机制",-1),Ne=Oe("p",null,"新增自动根据dpr优化清晰度",-1),Be=Oe("p",null,"新增九宫格抽奖",-1),Ue=Oe("p",null,[Oe("a",{style:{color:"#eee"},href:"https://100px.net?luckDraw",target:"_blank"},"官方文档"),Ee(" | "),Oe("a",{style:{color:"#eee"},href:"https://github.com/buuing/vue-luck-draw/issues?luckDraw",target:"_blank"},"bug 反馈"),Ee(" | "),Oe("a",{style:{color:"#eee"},href:"https://github.com/buuing/vue-luck-draw?luckDraw",target:"_blank"},"github 地址")],-1),qe={name:"LuckDraw",render:function(t,e,n,i,r,o){return Se(),Ie("div",De,[Le,He,Ne,Be,Ue])}},Ge={ref:"luckyGrid"};var Xe=n(982);const Ve=JSON.parse('{"u2":"vue-luck-draw","i8":"3.4.5"}'),Ye={name:"LuckyGrid",props:{width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},cols:{type:[String,Number],default:3},rows:{type:[String,Number],default:3},prizes:{type:Array,default:()=>[]},buttons:{type:Array,default:()=>[]},button:{type:Object},blocks:{type:Array,default:()=>[]},defaultStyle:{type:Object,default:()=>({})},activeStyle:{type:Object,default:()=>({})},defaultConfig:{type:Object,default:()=>({})},demo:{type:Boolean,default:!1}},data:()=>({$lucky:null}),watch:{cols(t,e){this.$lucky.cols=t},rows(t,e){this.$lucky.rows=t},blocks(t,e){this.$lucky.blocks=t},prizes(t,e){this.$lucky.prizes=t},buttons(t,e){this.$lucky.buttons=t},button(t,e){this.$lucky.button=t}},mounted(){this.$refs.luckyGrid&&this.$refs.luckyGrid.setAttribute("package",`${Ve.u2}@${Ve.i8}`);try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky(){this.$lucky=new Xe.LuckyGrid({flag:"WEB",width:this.width,height:this.height,divElement:this.$refs.luckyGrid,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearInterval:window.clearInterval},{...this.$props,start:(...t)=>{this.$emit("start",...t)},end:(...t)=>{this.$emit("end",...t)}})},init(){this.$lucky&&this.$lucky.init({})},play(...t){this.$lucky.play(...t)},stop(...t){this.$lucky.stop(...t)}},render:function(t,e,n,i,r,o){return Se(),Ie("div",Ge,null,512)}},Je={ref:"luckyWheel"},Ke={name:"LuckyWheel",props:{width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},blocks:{type:Array,default:()=>[]},prizes:{type:Array,default:()=>[]},buttons:{type:Array,default:()=>[]},defaultStyle:{type:Object,default:()=>({})},defaultConfig:{type:Object,default:()=>({})}},data:()=>({$lucky:null}),watch:{blocks(t,e){this.$lucky.blocks=t},prizes(t,e){this.$lucky.prizes=t},buttons(t,e){this.$lucky.buttons=t}},mounted(){this.$refs.luckyWheel&&this.$refs.luckyWheel.setAttribute("package",`${Ve.u2}@${Ve.i8}`);try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky(){this.$lucky=new Xe.LuckyWheel({flag:"WEB",width:this.width,height:this.height,divElement:this.$refs.luckyWheel,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearInterval:window.clearInterval},{...this.$props,start:(...t)=>{this.$emit("start",...t)},end:(...t)=>{this.$emit("end",...t)}})},init(){this.$lucky&&this.$lucky.init({})},play(...t){this.$lucky.play(...t)},stop(...t){this.$lucky.stop(...t)}},render:function(t,e,n,i,r,o){return Se(),Ie("div",Je,null,512)}},Ze=(t,e)=>{t.component("LuckDraw",qe),t.component("LuckyGrid",Ye),t.component("LuckyWheel",Ke)};"undefined"!=typeof window&&window.Vue&&Ze(window.Vue);const Qe={install:Ze}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i=n(587);return i.default})()}));