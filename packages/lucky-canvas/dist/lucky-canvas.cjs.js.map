{"version":3,"file":"lucky-canvas.cjs.js","sources":["../../../node_modules/tslib/tslib.es6.js","../src/utils/polyfill.js","../src/utils/index.ts","../src/observer/dep.ts","../src/observer/utils.ts","../src/observer/array.ts","../src/observer/index.ts","../src/observer/watcher.ts","../src/lib/lucky.ts","../src/utils/math.ts","../src/utils/tween.ts","../src/lib/wheel.ts","../src/lib/grid.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * 由于部分低版本下的某些 app 可能会缺少某些原型方法, 这里增加兼容\n */\n\n// vivo x7 下网易云游戏 app 缺少 includes 方法\nif (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    'use strict';\n    if (typeof start !== 'number') {\n      start = 0;\n    }\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}\n\n// vivo x7 下网易云游戏 app 缺少 find 方法\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function(predicate) {\n     // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      var o = Object(this);\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n      // 5. Let k be 0.\n      var k = 0;\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return kValue;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n      // 7. Return undefined.\n      return void 0;\n    }\n  });\n}\n","/**\n * 判断是否是期望的类型\n * @param { any } param 将要判断的变量\n * @param { ...string } types 期望的类型\n * @return { boolean } 返回期望是否正确\n */\nexport const isExpectType = (param: any, ...types: string[]): boolean => {\n  return types.some(type => Object.prototype.toString.call(param).slice(8, -1).toLowerCase() === type)\n}\n\n/**\n * 移除\\n\n * @param { string } str 将要处理的字符串\n * @return { string } 返回新的字符串\n */\nexport const removeEnter = (str: string): string => {\n  return [].filter.call(str, s => s !== '\\n').join('')\n}\n\n/**\n * 把任何数据类型转成数字\n * @param num \n */\nexport const getNumber = (num: any): number => {\n  if (num === null) return 0\n  if (typeof num === 'object') return NaN\n  if (typeof num === 'number') return num\n  if (typeof num === 'string') {\n    if (num[num.length - 1] === '%') {\n      return Number(num.slice(0, -1)) / 100\n    }\n    return Number(num)\n  }\n  return NaN\n}\n\n/**\n * 判断颜色是否有效 (透明色 === 无效)\n * @param color 颜色\n */\nexport const hasBackground = (color: string | undefined | null): boolean => {\n  if (typeof color !== 'string') return false\n  color = color.toLocaleLowerCase().trim()\n  if (color === 'transparent') return false\n  if (/^rgba/.test(color)) {\n    const alpha = /([^\\s,]+)\\)$/.exec(color)\n    if (getNumber(alpha) === 0) return false\n  }\n  return true\n}\n\n/**\n * 通过padding计算\n * @return { object } block 边框信息\n */\nexport const computePadding = (\n  block: { padding?: string }\n): [number, number, number, number] => {\n  let padding = block.padding?.replace(/px/g, '').split(' ').map(n => ~~n) || [0],\n    paddingTop = 0,\n    paddingBottom = 0,\n    paddingLeft = 0,\n    paddingRight = 0\n  switch (padding.length) {\n    case 1:\n      paddingTop = paddingBottom = paddingLeft = paddingRight = padding[0]\n      break\n    case 2:\n      paddingTop = paddingBottom = padding[0]\n      paddingLeft = paddingRight = padding[1]\n      break\n    case 3:\n      paddingTop = padding[0]\n      paddingLeft = paddingRight = padding[1]\n      paddingBottom = padding[2]\n      break\n    default:\n      paddingTop = padding[0]\n      paddingBottom = padding[1]\n      paddingLeft = padding[2]\n      paddingRight = padding[3]\n  }\n  // 检查是否单独传入值, 并且不是0\n  const res = { paddingTop, paddingBottom, paddingLeft, paddingRight }\n  for (let key in res) {\n    // 是否含有这个属性, 并且是数字或字符串\n    res[key] = Object.prototype.hasOwnProperty.call(block, key) && isExpectType(block[key], 'string', 'number')\n      ? ~~String(block[key]).replace(/px/g, '')\n      : res[key]\n  }\n  return [paddingTop, paddingBottom, paddingLeft, paddingRight]\n}\n","import Watcher from './watcher'\n\nexport default class Dep {\n  static target: Watcher | null\n  private subs: Array<Watcher>\n\n  /**\n   * 订阅中心构造器\n   */\n  constructor () {\n    this.subs = []\n  }\n\n  /**\n   * 收集依赖\n   * @param {*} sub \n   */\n  public addSub (sub: Watcher) {\n    // 此处临时使用includes防重复添加\n    if (!this.subs.includes(sub)) {\n      this.subs.push(sub)\n    }\n  }\n\n  /**\n   * 派发更新\n   */\n  public notify () {\n    this.subs.forEach(sub => {\n      sub.update()\n    })\n  }\n}\n","\nimport { isExpectType } from '../utils'\n\nexport const hasProto = '__proto__' in {}\n\nexport function def (obj: object, key: string | number, val: any, enumerable?: boolean) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  })\n}\n\nexport function parsePath (path: string) {\n  path += '.'\n  let segments: string[] = [], segment = ''\n  for (let i = 0; i < path.length; i++) {\n    let curr = path[i]\n    if (/\\[|\\./.test(curr)) {\n      segments.push(segment)\n      segment = ''\n    } else if (/\\W/.test(curr)) {\n      continue\n    } else {\n      segment += curr\n    }\n  }\n  return function (data: object | any[]) {\n    return segments.reduce((data, key) => {\n      return data[key]\n    }, data)\n  }\n}\n\nexport function traverse (value: any) {\n  // const seenObjects = new Set()\n  const dfs = (data: any) => {\n    if (!isExpectType(data, 'array', 'object')) return\n    Object.keys(data).forEach(key => {\n      const value = data[key]\n      dfs(value)\n    })\n  }\n  dfs(value)\n  // seenObjects.clear()\n}","/**\n * 重写数组的原型方法\n */\nconst oldArrayProto = Array.prototype\nconst newArrayProto = Object.create(oldArrayProto)\nconst methods = ['push', 'pop', 'shift', 'unshift', 'sort', 'splice', 'reverse']\nmethods.forEach(method => {\n  newArrayProto[method] = function (...args: any[]) {\n    const res = oldArrayProto[method].apply(this, args)\n    const luckyOb = this['__luckyOb__']\n    if (['push', 'unshift', 'splice'].includes(method)) luckyOb.walk(this)\n    luckyOb.dep.notify()\n    return res\n  }\n})\n\nexport { newArrayProto }\n","import Dep from './dep'\nimport { hasProto, def } from './utils'\nimport { newArrayProto } from './array'\n\nexport default class Observer {\n  value: any\n  dep: Dep\n\n  /**\n   * 观察者构造器\n   * @param value \n   */\n  constructor (value: any) {\n    // this.value = value\n    this.dep = new Dep()\n    // 将响应式对象代理到当前value上面, 并且将当前的enumerable设置为false\n    def(value, '__luckyOb__', this)\n    if (Array.isArray(value)) { // 如果是数组, 则重写原型方法\n      if (hasProto) {\n        value['__proto__'] = newArrayProto\n      } else {\n        Object.getOwnPropertyNames(newArrayProto).forEach(key => {\n          def(value, key, newArrayProto[key])\n        })\n      }\n    }\n    this.walk(value)\n  }\n\n  walk (data: object | any[]) {\n    Object.keys(data).forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n}\n\n/**\n * 处理响应式\n * @param { Object | Array } data\n */\nexport function observe (data: any): Observer | void {\n  if (!data || typeof data !== 'object') return\n  let luckyOb: Observer | void\n  if ('__luckyOb__' in data) {\n    luckyOb = data['__luckyOb__']\n  } else {\n    luckyOb = new Observer(data)\n  }\n  return luckyOb\n}\n\n/**\n * 重写 setter / getter\n * @param {*} data \n * @param {*} key \n * @param {*} val \n */\nexport function defineReactive (data: any, key: string | number, val: any) {\n  const dep = new Dep()\n  const property = Object.getOwnPropertyDescriptor(data, key)\n  if (property && property.configurable === false) {\n    return\n  }\n  const getter = property && property.get\n  const setter = property && property.set\n  if ((!getter || setter) && arguments.length === 2) {\n    val = data[key]\n  }\n  let childOb = observe(val)\n  Object.defineProperty(data, key, {\n    get: () => {\n      const value = getter ? getter.call(data) : val\n      if (Dep.target) {\n        dep.addSub(Dep.target)\n        if (childOb) {\n          childOb.dep.addSub(Dep.target)\n        }\n      }\n      return value\n    },\n    set: (newVal) => {\n      if (newVal === val) return\n      val = newVal\n      if (getter && !setter) return\n      if (setter) {\n        setter.call(data, newVal)\n      } else {\n        val = newVal\n      }\n      childOb = observe(newVal)\n      dep.notify()\n    }\n  })\n}\n","import Lucky from '../lib/lucky'\nimport Dep from './dep'\nimport { parsePath, traverse } from './utils'\n\nexport interface WatchOptType {\n  handler?: () => Function\n  immediate?: boolean\n  deep?: boolean\n}\n\nlet uid = 0\nexport default class Watcher {\n  id: number\n  $lucky: Lucky\n  expr: string | Function\n  cb: Function\n  deep: boolean\n  getter: Function\n  value: any\n\n  /**\n   * 观察者构造器\n   * @param {*} $lucky \n   * @param {*} expr \n   * @param {*} cb \n   */\n  constructor ($lucky: Lucky, expr: string | Function, cb: Function, options: WatchOptType = {}) {\n    this.id = uid++\n    this.$lucky = $lucky\n    this.expr = expr\n    this.deep = !!options.deep\n    if (typeof expr === 'function') {\n      this.getter = expr\n    } else {\n      this.getter = parsePath(expr)\n    }\n    this.cb = cb\n    this.value = this.get()\n  }\n\n  /**\n   * 根据表达式获取新值\n   */\n  get () {\n    Dep.target = this\n    const value = this.getter.call(this.$lucky, this.$lucky)\n    // 处理深度监听\n    if (this.deep) {\n      traverse(value)\n    }\n    Dep.target = null\n    return value\n  }\n\n  /**\n   * 触发 watcher 更新\n   */\n  update () {\n    // get获取新值\n    const newVal = this.get()\n    // 读取之前存储的旧值\n    const oldVal = this.value\n    this.value = newVal\n    // 触发 watch 回调\n    this.cb.call(this.$lucky, newVal, oldVal)\n  }\n}\n","import '../utils/polyfill'\nimport { isExpectType } from '../utils/index'\nimport { name, version } from '../../package.json'\nimport { ConfigType, ImgType, UniImageType } from '../types/index'\nimport { defineReactive } from '../observer'\nimport Watcher, { WatchOptType } from '../observer/watcher'\n\nexport default class Lucky {\n  protected readonly config: ConfigType\n  protected readonly ctx: CanvasRenderingContext2D\n  protected htmlFontSize: number = 16\n  protected rAF: Function = function () {}\n  protected boxWidth: number = 0\n  protected boxHeight: number = 0\n\n  /**\n   * 公共构造器\n   * @param config\n   */\n  constructor (config: string | HTMLDivElement | ConfigType) {\n    // 先初始化 fontSize 以防后面有 rem 单位\n    this.setHTMLFontSize()\n    /* eslint-disable */\n    // 兼容代码开始: 为了处理 v1.0.6 版本在这里传入了一个 dom\n    if (typeof config === 'string') config = { el: config } as ConfigType\n    else if (config.nodeType === 1) config = { el: '', divElement: config } as ConfigType\n    config = config as ConfigType\n    /* eslint-enable */\n    this.config = config\n    // 拿到 config 即可设置 dpr\n    this.setDpr()\n    // 初始化 window 方法\n    this.initWindowFunction()\n    if (!config.flag) config.flag = 'WEB'\n    if (!Object.prototype.hasOwnProperty.call(config, 'ob')) config.ob = true\n    if (config.el) config.divElement = document.querySelector(config.el) as HTMLDivElement\n    let boxWidth = 0, boxHeight = 0\n    // 如果存在父盒子, 就创建canvas标签\n    if (config.divElement) {\n      // 无论盒子内有没有canvas都执行覆盖逻辑\n      config.canvasElement = document.createElement('canvas')\n      config.divElement.appendChild(config.canvasElement)\n    }\n    // 初始化宽高\n    this.resetWidthAndHeight()\n    // 获取 canvas 上下文\n    if (config.canvasElement) {\n      config.ctx = config.canvasElement.getContext('2d')!\n      // 添加版本信息到标签上, 方便定位版本问题\n      config.canvasElement.setAttribute('package', `${name}@${version}`)\n      config.canvasElement.addEventListener('click', e => this.handleClick(e))\n      config.canvasElement.addEventListener('mousemove', e => this.handleMouseMove(e))\n      config.canvasElement.addEventListener('mousedown', e => this.handleMouseDown(e))\n      config.canvasElement.addEventListener('mouseup', e => this.handleMouseUp(e))\n    }\n    this.ctx = config.ctx as CanvasRenderingContext2D\n    // 如果最后得不到 canvas 上下文那就无法进行绘制\n    if (!config.ctx) {\n      console.error('无法获取到 CanvasContext2D')\n      return\n    }\n    if (!this.boxWidth || !this.boxHeight) {\n      console.error('无法获取到宽度或高度')\n      return\n    }\n  }\n\n  /**\n   * 初始化方法\n   */\n  public init (willUpdateImgs?: object) {\n    this.setDpr()\n    this.setHTMLFontSize()\n    this.resetWidthAndHeight()\n    this.zoomCanvas()\n  }\n\n  /**\n   * 鼠标点击事件\n   * @param e 事件参数\n   */\n  protected handleClick (e: MouseEvent): void {}\n\n  /**\n   * 鼠标按下事件\n   * @param e 事件参数\n   */\n  protected handleMouseDown (e: MouseEvent): void {}\n\n  /**\n   * 鼠标抬起事件\n   * @param e 事件参数\n   */\n  protected handleMouseUp (e: MouseEvent): void {}\n\n  /**\n   * 鼠标移动事件\n   * @param e 事件参数\n   */\n  protected handleMouseMove (e: MouseEvent): void {}\n\n  /**\n   * 换算坐标\n   */\n  protected conversionAxis (x: number, y: number): [number, number] {\n    return [0, 0]\n  }\n\n  /**\n   * 设备像素比\n   * window 环境下自动获取, 其余环境手动传入\n   */\n  protected setDpr (): void {\n    const { config } = this\n    if (config.dpr) {\n      // 优先使用 config 传入的 dpr\n    } else if (window) {\n      (window as any).dpr = config.dpr = window.devicePixelRatio || 1\n    } else if (!config.dpr) {\n      console.error(config, '未传入 dpr 可能会导致绘制异常')\n    }\n  }\n\n  /**\n   * 根标签的字体大小\n   */\n  protected setHTMLFontSize (): void {\n    if (!window) return\n    this.htmlFontSize = +window.getComputedStyle(document.documentElement).fontSize.slice(0, -2)\n  }\n\n  /**\n   * 重置盒子和canvas的宽高\n   */\n  private resetWidthAndHeight (): void {\n    const { config } = this\n    // 如果是浏览器环境并且存在盒子\n    let boxWidth = 0, boxHeight = 0\n    if (config.divElement) {\n      boxWidth = config.divElement.offsetWidth\n      boxHeight = config.divElement.offsetHeight\n    }\n    // 如果 config 上面没有宽高, 就从 style 上面取\n    this.boxWidth = this.getLength(config.width) || boxWidth\n    this.boxHeight = this.getLength(config.height) || boxHeight\n    // 重新把宽高赋给盒子\n    if (config.divElement) {\n      config.divElement.style.overflow = 'hidden'\n      config.divElement.style.width = this.boxWidth + 'px'\n      config.divElement.style.height = this.boxHeight + 'px'\n    }\n  }\n\n  /**\n   * 从 window 对象上获取一些方法\n   */\n  private initWindowFunction (): void {\n    const { config } = this\n    if (window) {\n      this.rAF = (function () {\n        return window.requestAnimationFrame ||\n          window.webkitRequestAnimationFrame ||\n          window['mozRequestAnimationFrame'] ||\n          function (callback) {\n            window.setTimeout(callback, 1000 / 60)\n          }\n      })()\n      config.setTimeout = window.setTimeout\n      config.setInterval = window.setInterval\n      config.clearTimeout = window.clearTimeout\n      config.clearInterval = window.clearInterval\n      return\n    }\n    if (config.rAF) {\n      // 优先使用帧动画\n      this.rAF = config.rAF\n    } else if (config.setTimeout) {\n      // 其次使用定时器\n      const timeout = config.setTimeout\n      this.rAF = (callback: Function): number => timeout(callback, 16.7)\n    } else {\n      // 如果config里面没有提供, 那就假设全局方法存在setTimeout\n      this.rAF = (callback: Function): number => setTimeout(callback, 16.7)\n    }\n  }\n\n  /**\n   * 根据 dpr 缩放 canvas 并处理位移\n   */\n  protected zoomCanvas (): void {\n    const { config, ctx } = this\n    const { canvasElement, dpr } = config\n    const [width, height] = [this.boxWidth * dpr, this.boxHeight * dpr]\n    const compute = (len: number) => (len * dpr - len) / (len * dpr) * (dpr / 2) * 100\n    if (!canvasElement) return\n    canvasElement.width = width\n    canvasElement.height = height\n    canvasElement.style.width = `${width}px`\n    canvasElement.style.height = `${height}px`\n    canvasElement.style.transform = `scale(${1 / dpr}) translate(${-compute(width)}%, ${-compute(height)}%)`\n    ctx.scale(dpr, dpr)\n  }\n\n  /**\n   * 异步加载图片并返回图片的几何信息\n   * @param src 图片路径\n   * @param info 图片信息\n   */\n  protected loadImg (\n    src: string,\n    info: ImgType,\n    resolveName = '$resolve'\n  ): Promise<HTMLImageElement | UniImageType> {\n    return new Promise((resolve, reject) => {\n      if (!src) reject(`=> '${info.src}' 不能为空或不合法`)\n      if (this.config.flag === 'WEB') {\n        let imgObj = new Image()\n        imgObj.src = src\n        imgObj.onload = () => resolve(imgObj)\n        imgObj.onerror = () => reject(`=> '${info.src}' 图片加载失败`)\n      } else {\n        // 其余平台向外暴露, 交给外部自行处理\n        info[resolveName] = resolve\n        return\n      }\n    })\n  }\n\n  /**\n   * 公共绘制图片的方法\n   * @param imgObj 图片对象\n   * @param xAxis x轴位置\n   * @param yAxis y轴位置\n   * @param width 渲染宽度\n   * @param height 渲染高度\n   */\n  protected drawImage (\n    imgObj: HTMLImageElement | UniImageType,\n    xAxis: number,\n    yAxis: number,\n    width: number,\n    height: number\n  ): void {\n    let drawImg, { config, ctx } = this\n    if (['WEB', 'MP-WX'].includes(config.flag)) {\n      // 浏览器中直接绘制标签即可\n      drawImg = imgObj\n    } else if (['UNI-H5', 'UNI-MP', 'TARO-H5', 'TARO-MP'].includes(config.flag)) {\n      // 小程序中直接绘制一个路径\n      drawImg = (imgObj as UniImageType).path\n    }\n    return ctx.drawImage((drawImg as CanvasImageSource), xAxis, yAxis, width, height)\n  }\n\n  /**\n   * 获取长度\n   * @param length 将要转换的长度\n   * @return 返回长度\n   */\n  protected getLength (length: string | number | undefined): number {\n    if (isExpectType(length, 'number')) return length as number\n    if (isExpectType(length, 'string')) return this.changeUnits(length as string)\n    return 0\n  }\n\n  /**\n   * 转换单位\n   * @param { string } value 将要转换的值\n   * @param { number } denominator 分子\n   * @return { number } 返回新的字符串\n   */\n  protected changeUnits (value: string, denominator = 1): number {\n    return Number(value.replace(/^([-]*[0-9.]*)([a-z%]*)$/, (value, num, unit) => {\n      const unitFunc = {\n        '%': (n: number) => n * (denominator / 100),\n        'px': (n: number) => n * 1,\n        'rem': (n: number) => n * this.htmlFontSize,\n      }[unit]\n      if (unitFunc) return unitFunc(num)\n      // 如果找不到默认单位, 就交给外面处理\n      const otherUnitFunc = this.config.unitFunc\n      return otherUnitFunc ? otherUnitFunc(num, unit) : num\n    }))\n  }\n\n  /**\n   * 添加一个新的响应式数据 (临时)\n   * @param data 数据\n   * @param key 属性\n   * @param value 新值\n   */\n  public $set (data: object, key: string | number, value: any) {\n    if (!data || typeof data !== 'object') return\n    defineReactive(data, key, value)\n  }\n\n  /**\n   * 添加一个属性计算 (临时)\n   * @param data 源数据\n   * @param key 属性名\n   * @param callback 回调函数\n   */\n  protected $computed (data: object, key: string, callback: Function) {\n    Object.defineProperty(data, key, {\n      get: () => {\n        return callback.call(this)\n      }\n    })\n  }\n\n  /**\n   * 添加一个观察者 create user watcher\n   * @param expr 表达式\n   * @param handler 回调函数\n   * @param watchOpt 配置参数\n   * @return 卸载当前观察者的函数 (暂未返回)\n   */\n  protected $watch (\n    expr: string | Function,\n    handler: Function | WatchOptType,\n    watchOpt: WatchOptType = {}\n  ): Function {\n    if (typeof handler === 'object') {\n      watchOpt = handler\n      handler = watchOpt.handler!\n    }\n    // 创建 user watcher\n    const watcher = new Watcher(this, expr, handler, watchOpt)\n    // 判断是否需要初始化时触发回调\n    if (watchOpt.immediate) {\n      handler.call(this, watcher.value)\n    }\n    // 返回一个卸载当前观察者的函数\n    return function unWatchFn () {}\n  }\n}\n","/**\n * 转换为运算角度\n * @param { number } deg 数学角度\n * @return { number } 运算角度\n */\nexport const getAngle = (deg: number): number => {\n  return Math.PI / 180 * deg\n}\n\n/**\n * 根据角度计算圆上的点\n * @param { number } deg 运算角度\n * @param { number } r 半径\n * @return { Array<number> } 坐标[x, y]\n */\nexport const getArcPointerByDeg = (deg: number, r: number): [number, number] => {\n  return [+(Math.cos(deg) * r).toFixed(8), +(Math.sin(deg) * r).toFixed(8)]\n}\n\n/**\n * 根据点计算切线方程\n * @param { number } x 横坐标\n * @param { number } y 纵坐标\n * @return { Array<number> } [斜率, 常数]\n */\nexport const getTangentByPointer = (x: number, y: number): Array<number> => {\n  let k = - x / y\n  let b = -k * x + y\n  return [k, b]\n}\n\n// 根据三点画圆弧\nexport const drawRadian = (\n  flag: string,\n  ctx: CanvasRenderingContext2D,\n  r: number,\n  start: number,\n  end: number,\n  direction: boolean = true\n) => {\n  // 如果角度大于等于180度, 则分两次绘制, 因为 arcTo 无法绘制180度的圆弧\n  if (Math.abs(end - start).toFixed(8) >= getAngle(180).toFixed(8)) {\n    let middle = (end + start) / 2\n    if (direction) {\n      drawRadian(flag, ctx, r, start, middle, direction)\n      drawRadian(flag, ctx, r, middle, end, direction)\n    } else {\n      drawRadian(flag, ctx, r, middle, end, direction)\n      drawRadian(flag, ctx, r, start, middle, direction)\n    }\n    return false\n  }\n  // 如果方法相反, 则交换起点和终点\n  if (!direction) [start, end] = [end, start]\n  const [x1, y1] = getArcPointerByDeg(start, r)\n  const [x2, y2] = getArcPointerByDeg(end, r)\n  const [k1, b1] = getTangentByPointer(x1, y1)\n  const [k2, b2] = getTangentByPointer(x2, y2)\n  // 计算两条切线的交点\n  let x0 = (b2 - b1) / (k1 - k2)\n  let y0 = (k2 * b1 - k1 * b2) / (k2 - k1)\n  // 如果有任何一条切线垂直于x轴, 则斜率不存在\n  if (isNaN(x0)) {\n    Math.abs(x1) === +r.toFixed(8) && (x0 = x1)\n    Math.abs(x2) === +r.toFixed(8) && (x0 = x2)\n  }\n  if (k1 === Infinity || k1 === -Infinity) {\n    y0 = k2 * x0 + b2\n  }\n  else if (k2 === Infinity || k2 === -Infinity) {\n    y0 = k1 * x0 + b1\n  }\n  ctx.lineTo(x1, y1)\n  // 微信小程序下 arcTo 在安卓真机下绘制有 bug\n  if (flag.indexOf('MP') > 0) {\n    ctx.quadraticCurveTo(x0, y0, x2, y2)\n  } else {\n    ctx.arcTo(x0, y0, x2, y2, r)\n  }\n}\n\n// 绘制扇形\nexport const drawSector = (\n  flag: string,\n  ctx: CanvasRenderingContext2D,\n  minRadius: number,\n  maxRadius: number,\n  start: number,\n  end: number,\n  gutter: number,\n  background: string\n) => {\n  // 如果不存在 getter, 则直接使用 arc 绘制扇形\n  if (!gutter) {\n    ctx.beginPath()\n    ctx.fillStyle = background\n    ctx.moveTo(0, 0)\n    ctx.arc(0, 0, maxRadius, start, end, false)\n    ctx.closePath()\n    ctx.fill()\n  } else {\n    drawSectorByArcTo(flag, ctx, minRadius, maxRadius, start, end, gutter, background)\n  }\n}\n\n// 根据arcTo绘制扇形\nexport const drawSectorByArcTo = (\n  flag: string,\n  ctx: CanvasRenderingContext2D,\n  minRadius: number,\n  maxRadius: number,\n  start: number,\n  end: number,\n  gutter: number,\n  background: string\n) => {\n  if (!minRadius) minRadius = gutter\n  // 内外圆弧分别进行等边缩放\n  let maxGutter = getAngle(90 / Math.PI / maxRadius * gutter)\n  let minGutter = getAngle(90 / Math.PI / minRadius * gutter)\n  let maxStart = start + maxGutter\n  let maxEnd = end - maxGutter\n  let minStart = start + minGutter\n  let minEnd = end - minGutter\n  ctx.beginPath()\n  ctx.fillStyle = background\n  ctx.moveTo(...getArcPointerByDeg(maxStart, maxRadius))\n  drawRadian(flag, ctx, maxRadius, maxStart, maxEnd, true)\n  // 如果 getter 比按钮短就绘制圆弧, 反之计算新的坐标点\n  if (minEnd > minStart) {\n    drawRadian(flag, ctx, minRadius, minStart, minEnd, false)\n  } else {\n    ctx.lineTo(\n      ...getArcPointerByDeg(\n        (start + end) / 2,\n        gutter / 2 / Math.abs(Math.sin((start - end) / 2))\n      )\n    )\n  }\n  ctx.closePath()\n  ctx.fill()\n}\n\n// 绘制圆角矩形 (由于微信小程序的 arcTo 有 bug, 下面的圆弧使用二次贝塞尔曲线代替)\nexport const drawRoundRect = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  r: number,\n  color: string\n) => {\n  let min = Math.min(w, h)\n  if (r > min / 2) r = min / 2\n  ctx.beginPath()\n  ctx.fillStyle = color\n  ctx.moveTo(x + r, y)\n  ctx.lineTo(x + r, y)\n  ctx.lineTo(x + w - r, y)\n  // ctx.arcTo(x + w, y, x + w, y + r, r)\n  ctx.quadraticCurveTo(x + w, y, x + w, y + r)\n  ctx.lineTo(x + w, y + h - r)\n  // ctx.arcTo(x + w, y + h, x + w - r, y + h, r)\n  ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h)\n  ctx.lineTo(x + r, y + h)\n  // ctx.arcTo(x, y + h, x, y + h - r, r)\n  ctx.quadraticCurveTo(x, y + h, x, y + h - r)\n  ctx.lineTo(x, y + r)\n  // ctx.arcTo(x, y, x + r, y, r)\n  ctx.quadraticCurveTo(x, y, x + r, y)\n  ctx.closePath()\n  ctx.fill()\n}\n\n/**\n * 创建线性渐变色\n */\nexport const getLinearGradient = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  background: string\n) => {\n  const context = (/linear-gradient\\((.+)\\)/.exec(background) as Array<any>)[1]\n    .split(',') // 根据逗号分割\n    .map((text: string) => text.trim()) // 去除两边空格\n  let deg = context.shift(), direction: [number, number, number, number] = [0, 0, 0, 0]\n  // 通过起始点和角度计算渐变终点的坐标点, 这里感谢泽宇大神提醒我使用勾股定理....\n  if (deg.includes('deg')) {\n    deg = deg.slice(0, -3) % 360\n    // 根据4个象限定义起点坐标, 根据45度划分8个区域计算终点坐标\n    const getLenOfTanDeg = (deg: number) => Math.tan(deg / 180 * Math.PI)\n    if (deg >= 0 && deg < 45) direction = [x, y + h, x + w, y + h - w * getLenOfTanDeg(deg - 0)]\n    else if (deg >= 45 && deg < 90) direction = [x, y + h, (x + w) - h * getLenOfTanDeg(deg - 45), y]\n    else if (deg >= 90 && deg < 135) direction = [x + w, y + h, (x + w) - h * getLenOfTanDeg(deg - 90), y]\n    else if (deg >= 135 && deg < 180) direction = [x + w, y + h, x, y + w * getLenOfTanDeg(deg - 135)]\n    else if (deg >= 180 && deg < 225) direction = [x + w, y, x, y + w * getLenOfTanDeg(deg - 180)]\n    else if (deg >= 225 && deg < 270) direction = [x + w, y, x + h * getLenOfTanDeg(deg - 225), y + h]\n    else if (deg >= 270 && deg < 315) direction = [x, y, x + h * getLenOfTanDeg(deg - 270), y + h]\n    else if (deg >= 315 && deg < 360) direction = [x, y, x + w, y + h - w * getLenOfTanDeg(deg - 315)]\n  }\n  // 创建四个简单的方向坐标\n  else if (deg.includes('top')) direction = [x, y + h, x, y]\n  else if (deg.includes('bottom')) direction = [x, y, x, y + h]\n  else if (deg.includes('left')) direction = [x + w, y, x, y]\n  else if (deg.includes('right')) direction = [x, y, x + w, y]\n  // 创建线性渐变必须使用整数坐标\n  const gradient = ctx.createLinearGradient(...(direction.map(n => n >> 0) as [number, number, number, number]))\n  // 这里后期重构, 先用any代替\n  return context.reduce((gradient: any, item: any, index: any) => {\n    const info = item.split(' ')\n    if (info.length === 1) gradient.addColorStop(index, info[0])\n    else if (info.length === 2) gradient.addColorStop(...info)\n    return gradient\n  }, gradient)\n}\n","/**\n * 缓动函数\n * t: current time（当前时间）\n * b: beginning value（初始值）\n * c: change in value（变化量）\n * d: duration（持续时间）\n * \n * 感谢张鑫旭大佬 https://github.com/zhangxinxu/Tween\n */\n\ninterface SpeedType {\n  easeIn: (t: number, b: number, c: number, d: number) => number\n  easeOut: (t: number, b: number, c: number, d: number) => number\n}\n\n// 二次方的缓动\nexport const quad: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * (t /= d) * t + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return -c * (t /= d) * (t - 2) + b\n  }\n}\n\n// 三次方的缓动\nexport const cubic: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * (t /= d) * t * t + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * ((t = t / d - 1) * t * t + 1) + b\n  }\n}\n\n// 四次方的缓动\nexport const quart: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * (t /= d) * t * t * t + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b\n  }\n}\n\n// 五次方的缓动\nexport const quint: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * (t /= d) * t * t * t * t + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b\n  }\n}\n\n// 正弦曲线的缓动\nexport const sine: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * Math.sin(t / d * (Math.PI / 2)) + b\n  }\n}\n\n// 指数曲线的缓动\nexport const expo: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return (t == 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b\n  }\n}\n\n// 圆形曲线的缓动\nexport const circ: SpeedType = {\n  easeIn: function (t, b, c, d) {\n    if (t >= d) t = d\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b\n  },\n  easeOut: function (t, b, c, d) {\n    if (t >= d) t = d\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b\n  }\n}\n","import Lucky from './lucky'\nimport { ConfigType } from '../types/index'\nimport LuckyWheelConfig, {\n  BlockType, BlockImgType,\n  PrizeType, PrizeImgType,\n  ButtonType, ButtonImgType,\n  DefaultConfigType,\n  DefaultStyleType,\n  StartCallbackType,\n  EndCallbackType\n} from '../types/wheel'\nimport { FontType, ImgType, UniImageType } from '../types/index'\nimport { isExpectType, removeEnter, hasBackground } from '../utils/index'\nimport { getAngle, drawSector } from '../utils/math'\nimport * as Tween from '../utils/tween'\n\nexport default class LuckyWheel extends Lucky {\n  private blocks: Array<BlockType> = []\n  private prizes: Array<PrizeType> = []\n  private buttons: Array<ButtonType> = []\n  private defaultConfig: DefaultConfigType = {}\n  private _defaultConfig = {\n    gutter: '0px',\n    offsetDegree: 0,\n    speed: 20,\n    speedFunction: 'quad',\n    accelerationTime: 2500,\n    decelerationTime: 2500,\n    stopRange: 0.8,\n  }\n  private defaultStyle: DefaultStyleType = {}\n  private _defaultStyle = {\n    fontSize: '18px',\n    fontColor: '#000',\n    fontStyle: 'sans-serif',\n    fontWeight: '400',\n    lineHeight: '',\n    background: 'rgba(0,0,0,0)',\n    wordWrap: true,\n    lengthLimit: '90%',\n  }\n  private startCallback?: StartCallbackType\n  private endCallback?: EndCallbackType\n  private Radius = 0                    // 大转盘半径\n  private prizeRadius = 0               // 奖品区域半径\n  private prizeDeg = 0                  // 奖品数学角度\n  private prizeRadian = 0               // 奖品运算角度\n  private rotateDeg = 0                 // 转盘旋转角度\n  private maxBtnRadius = 0              // 最大按钮半径\n  private startTime = 0                 // 开始时间戳\n  private endTime = 0                   // 停止时间戳\n  private stopDeg = 0                   // 刻舟求剑\n  private endDeg = 0                    // 停止角度\n  private FPS = 16.6                    // 屏幕刷新率\n  /**\n   * 中奖索引\n   * prizeFlag = undefined 时, 处于开始抽奖阶段, 正常旋转\n   * prizeFlag >= 0 时, 说明stop方法被调用, 并且传入了中奖索引\n   * prizeFlag === -1 时, 说明stop方法被调用, 并且传入了负值, 本次抽奖无效\n   */\n  private prizeFlag: number | undefined\n  private blockImgs: Array<HTMLImageElement[] | UniImageType[]> = [[]]\n  private prizeImgs: Array<HTMLImageElement[] | UniImageType[]> = [[]]\n  private btnImgs: Array<HTMLImageElement[] | UniImageType[]> = [[]]\n\n  /**\n   * 大转盘构造器\n   * @param config 元素标识\n   * @param data 抽奖配置项\n   */\n  constructor (config: ConfigType, data: LuckyWheelConfig = {}) {\n    super(config)\n    if (config.ob) {\n      this.initData(data)\n      this.initWatch()\n    }\n    this.initComputed()\n    // 创建前回调函数\n    config.beforeCreate?.call(this)\n    // 收集首次渲染的图片\n    this.init({\n      blockImgs: this.blocks.map(block => block.imgs),\n      prizeImgs: this.prizes.map(prize => prize.imgs),\n      btnImgs: this.buttons.map(btn => btn.imgs),\n    })\n  }\n\n  /**\n   * 初始化数据\n   * @param data\n   */\n  private initData (data: LuckyWheelConfig): void {\n    this.$set(this, 'blocks', data.blocks || [])\n    this.$set(this, 'prizes', data.prizes || [])\n    this.$set(this, 'buttons', data.buttons || [])\n    this.$set(this, 'defaultConfig', data.defaultConfig || {})\n    this.$set(this, 'defaultStyle', data.defaultStyle || {})\n    this.$set(this, 'startCallback', data.start)\n    this.$set(this, 'endCallback', data.end)\n  }\n\n  /**\n   * 初始化属性计算\n   */\n  private initComputed () {\n    // 默认配置\n    this.$computed(this, '_defaultConfig', () => {\n      const config = {\n        gutter: '0px',\n        offsetDegree: 0,\n        speed: 20,\n        speedFunction: 'quad',\n        accelerationTime: 2500,\n        decelerationTime: 2500,\n        stopRange: 0.8,\n        ...this.defaultConfig\n      }\n      return config\n    })\n    // 默认样式\n    this.$computed(this, '_defaultStyle', () => {\n      const style = {\n        fontSize: '18px',\n        fontColor: '#000',\n        fontStyle: 'sans-serif',\n        fontWeight: '400',\n        background: 'rgba(0,0,0,0)',\n        wordWrap: true,\n        lengthLimit: '90%',\n        ...this.defaultStyle\n      }\n      return style\n    })\n  }\n\n  /**\n   * 初始化观察者\n   */\n  private initWatch () {\n    // 观察 blocks 变化收集图片\n    this.$watch('blocks', (newData: Array<BlockType>) => {\n      return this.init({ blockImgs: newData.map(cell => cell.imgs) })\n    }, { deep: true })\n    // 观察 prizes 变化收集图片\n    this.$watch('prizes', (newData: Array<PrizeType>) => {\n      return this.init({ prizeImgs: newData.map(cell => cell.imgs) })\n    }, { deep: true })\n    // 观察 buttons 变化收集图片\n    this.$watch('buttons', (newData: Array<ButtonType>) => {\n      return this.init({ btnImgs: newData.map(cell => cell.imgs) })\n    }, { deep: true })\n    this.$watch('defaultConfig', () => this.draw(), { deep: true })\n    this.$watch('defaultStyle', () => this.draw(), { deep: true })\n    this.$watch('startCallback', () => this.init({}))\n    this.$watch('endCallback', () => this.init({}))\n  }\n\n  /**\n   * 初始化 canvas 抽奖\n   * @param { willUpdateImgs } willUpdateImgs 需要更新的图片\n   */\n  public init (willUpdateImgs: {\n    blockImgs?: Array<BlockImgType[] | undefined>\n    prizeImgs?: Array<PrizeImgType[] | undefined>\n    btnImgs?: Array<ButtonImgType[] | undefined>\n  }): void {\n    super.init()\n    const { config, ctx } = this\n    this.Radius = Math.min(this.boxWidth, this.boxHeight) / 2\n    // 初始化前回调函数\n    config.beforeInit?.call(this)\n    ctx.translate(this.Radius, this.Radius)\n    this.draw() // 先画一次, 防止闪烁\n    this.draw() // 再画一次, 拿到正确的按钮轮廓\n    // 异步加载图片\n    Object.keys(willUpdateImgs).forEach(key => {\n      const imgName = key as 'blockImgs' | 'prizeImgs' | 'btnImgs'\n      const cellName = {\n        blockImgs: 'blocks',\n        prizeImgs: 'prizes',\n        btnImgs: 'buttons',\n      }[imgName] as 'blocks' | 'prizes' | 'buttons'\n      const willUpdate = willUpdateImgs[imgName]\n      willUpdate && willUpdate.forEach((imgs, cellIndex) => {\n        imgs && imgs.forEach((imgInfo, imgIndex) => {\n          this.loadAndCacheImg(cellName, cellIndex, imgName, imgIndex, () => {\n            this.draw()\n          })\n        })\n      })\n    })\n    // 初始化后回调函数\n    config.afterInit?.call(this)\n  }\n\n  /**\n   * canvas点击事件\n   * @param e 事件参数\n   */\n  protected handleClick (e: MouseEvent): void {\n    const { ctx } = this\n    ctx.beginPath()\n    ctx.arc(0, 0, this.maxBtnRadius, 0, Math.PI * 2, false)\n    if (!ctx.isPointInPath(e.offsetX, e.offsetY)) return\n    if (this.startTime) return\n    this.startCallback?.(e)\n  }\n\n  /**\n   * 单独加载某一张图片并计算其实际渲染宽高\n   * @param { number } cellIndex 奖品索引\n   * @param { number } imgIndex 奖品图片索引\n   * @param { Function } callBack 图片加载完毕回调\n   */\n  private async loadAndCacheImg (\n    cellName: 'blocks' | 'prizes' | 'buttons',\n    cellIndex: number,\n    imgName: 'blockImgs' | 'prizeImgs' | 'btnImgs',\n    imgIndex: number,\n    callBack: () => void\n  ) {\n    // 获取图片信息\n    const cell: BlockType | PrizeType | ButtonType = this[cellName][cellIndex]\n    if (!cell || !cell.imgs) return\n    const imgInfo = cell.imgs[imgIndex]\n    if (!imgInfo) return\n    if (!this[imgName][cellIndex]) this[imgName][cellIndex] = []\n    // 异步加载图片\n    this.loadImg(imgInfo.src, imgInfo).then(res => {\n      this[imgName][cellIndex][imgIndex] = res\n      callBack.call(this)\n    }).catch(err => {\n      console.error(`${cellName}[${cellIndex}].imgs[${imgIndex}] ${err}`)\n    })\n  }\n\n  /**\n   * 计算图片的渲染宽高\n   * @param imgObj 图片标签元素\n   * @param imgInfo 图片信息\n   * @param maxWidth 最大宽度\n   * @param maxHeight 最大高度\n   * @return [渲染宽度, 渲染高度]\n   */\n  private computedWidthAndHeight (\n    imgObj: HTMLImageElement | UniImageType,\n    imgInfo: ImgType,\n    maxWidth: number,\n    maxHeight: number\n  ): [number, number] {\n    // 根据配置的样式计算图片的真实宽高\n    if (!imgInfo.width && !imgInfo.height) {\n      // 如果没有配置宽高, 则使用图片本身的宽高\n      return [imgObj.width, imgObj.height]\n    } else if (imgInfo.width && !imgInfo.height) {\n      // 如果只填写了宽度, 没填写高度\n      let trueWidth = this.getWidth(imgInfo.width, maxWidth)\n      // 那高度就随着宽度进行等比缩放\n      return [trueWidth, imgObj.height * (trueWidth / imgObj.width)]\n    } else if (!imgInfo.width && imgInfo.height) {\n      // 如果只填写了宽度, 没填写高度\n      let trueHeight = this.getHeight(imgInfo.height, maxHeight)\n      // 那宽度就随着高度进行等比缩放\n      return [imgObj.width * (trueHeight / imgObj.height), trueHeight]\n    }\n    // 如果宽度和高度都填写了, 就如实计算\n    return [\n      this.getWidth(imgInfo.width, maxWidth),\n      this.getHeight(imgInfo.height, maxHeight)\n    ]\n  }\n\n  /**\n   * 开始绘制\n   */\n  protected draw (): void {\n    const { config, ctx, _defaultConfig, _defaultStyle } = this\n    // 触发绘制前回调\n    config.beforeDraw?.call(this, ctx)\n    // 清空画布\n    ctx.clearRect(-this.Radius, -this.Radius, this.Radius * 2, this.Radius * 2)\n    // 绘制blocks边框\n    this.prizeRadius = this.blocks.reduce((radius, block, blockIndex) => {\n      if (hasBackground(block.background)) {\n        ctx.beginPath()\n        ctx.fillStyle = block.background!\n        ctx.arc(0, 0, radius, 0, Math.PI * 2, false)\n        ctx.fill()\n      }\n      block.imgs && block.imgs.forEach((imgInfo, imgIndex) => {\n        if (!this.blockImgs[blockIndex]) return\n        const blockImg = this.blockImgs[blockIndex][imgIndex]\n        if (!blockImg) return\n        // 绘制图片\n        const [trueWidth, trueHeight] = this.computedWidthAndHeight(blockImg, imgInfo, radius * 2, radius * 2)\n        const [xAxis, yAxis] = [this.getOffsetX(trueWidth), this.getHeight(imgInfo.top, radius * 2) - radius]\n        ctx.save()\n        imgInfo.rotate && ctx.rotate(getAngle(this.rotateDeg))\n        this.drawImage(blockImg, xAxis, yAxis, trueWidth, trueHeight)\n        ctx.restore()\n      })\n      return radius - this.getLength(block.padding && block.padding.split(' ')[0])\n    }, this.Radius)\n    // 计算起始弧度\n    this.prizeDeg = 360 / this.prizes.length\n    this.prizeRadian = getAngle(this.prizeDeg)\n    let start = getAngle(-90 + this.rotateDeg + _defaultConfig.offsetDegree)\n    // 计算文字横坐标\n    const getFontX = (line: string) => {\n      return this.getOffsetX(ctx.measureText(line).width)\n    }\n    // 计算文字纵坐标\n    const getFontY = (font: FontType, height: number, lineIndex: number) => {\n      // 优先使用字体行高, 要么使用默认行高, 其次使用字体大小, 否则使用默认字体大小\n      const lineHeight = font.lineHeight || _defaultStyle.lineHeight || font.fontSize || _defaultStyle.fontSize\n      return this.getHeight(font.top, height) + (lineIndex + 1) * this.getLength(lineHeight)\n    }\n    ctx.save()\n    // 绘制prizes奖品区域\n    this.prizes.forEach((prize, prizeIndex) => {\n      // 计算当前奖品区域中间坐标点\n      let currMiddleDeg = start + prizeIndex * this.prizeRadian\n      // 奖品区域可见高度\n      let prizeHeight = this.prizeRadius - this.maxBtnRadius\n      // 绘制背景\n      const background = prize.background || _defaultStyle.background\n      hasBackground(background) && drawSector(\n        config.flag, ctx,\n        this.maxBtnRadius, this.prizeRadius,\n        currMiddleDeg - this.prizeRadian / 2,\n        currMiddleDeg + this.prizeRadian / 2,\n        this.getLength(_defaultConfig.gutter),\n        background\n      )\n      // 计算临时坐标并旋转文字\n      let x = Math.cos(currMiddleDeg) * this.prizeRadius\n      let y = Math.sin(currMiddleDeg) * this.prizeRadius\n      ctx.translate(x, y)\n      ctx.rotate(currMiddleDeg + getAngle(90))\n      // 绘制图片\n      prize.imgs && prize.imgs.forEach((imgInfo, imgIndex) => {\n        if (!this.prizeImgs[prizeIndex]) return\n        const prizeImg = this.prizeImgs[prizeIndex][imgIndex]\n        if (!prizeImg) return\n        const [trueWidth, trueHeight] = this.computedWidthAndHeight(\n          prizeImg,\n          imgInfo,\n          this.prizeRadian * this.prizeRadius,\n          prizeHeight\n        )\n        const [xAxis, yAxis] = [this.getOffsetX(trueWidth), this.getHeight(imgInfo.top, prizeHeight)]\n        this.drawImage(prizeImg, xAxis, yAxis, trueWidth, trueHeight)\n      })\n      // 逐行绘制文字\n      prize.fonts && prize.fonts.forEach(font => {\n        let fontColor = font.fontColor || _defaultStyle.fontColor\n        let fontWeight = font.fontWeight || _defaultStyle.fontWeight\n        let fontSize = this.getLength(font.fontSize || _defaultStyle.fontSize)\n        let fontStyle = font.fontStyle || _defaultStyle.fontStyle\n        ctx.fillStyle = fontColor!\n        ctx.font = `${fontWeight} ${fontSize >> 0}px ${fontStyle}`\n        let lines = [], text = String(font.text)\n        if (Object.prototype.hasOwnProperty.call(font, 'wordWrap') ? font.wordWrap : _defaultStyle.wordWrap) {\n          text = removeEnter(text)\n          let str = ''\n          for (let i = 0; i < text.length; i++) {\n            str += text[i]\n            let currWidth = ctx.measureText(str).width\n            let maxWidth = (this.prizeRadius - getFontY(font, prizeHeight, lines.length))\n              * Math.tan(this.prizeRadian / 2) * 2 - this.getLength(_defaultConfig.gutter)\n            if (currWidth > this.getWidth(font.lengthLimit || _defaultStyle.lengthLimit, maxWidth)) {\n              lines.push(str.slice(0, -1))\n              str = text[i]\n            }\n          }\n          if (str) lines.push(str)\n          if (!lines.length) lines.push(text)\n        } else {\n          lines = text.split('\\n')\n        }\n        lines.filter(line => !!line).forEach((line, lineIndex) => {\n          ctx.fillText(line, getFontX(line), getFontY(font, prizeHeight, lineIndex))\n        })\n      })\n      // 修正旋转角度和原点坐标\n      ctx.rotate(getAngle(360) - currMiddleDeg - getAngle(90))\n      ctx.translate(-x, -y)\n    })\n    ctx.restore()\n    // 绘制按钮\n    this.buttons.forEach((btn, btnIndex) => {\n      let radius = this.getHeight(btn.radius)\n      // 绘制背景颜色\n      this.maxBtnRadius = Math.max(this.maxBtnRadius, radius)\n      if (hasBackground(btn.background)) {\n        ctx.beginPath()\n        ctx.fillStyle = btn.background as string\n        ctx.arc(0, 0, radius, 0, Math.PI * 2, false)\n        ctx.fill()\n      }\n      // 绘制指针\n      if (btn.pointer && hasBackground(btn.background)) {\n        ctx.beginPath()\n        ctx.fillStyle = btn.background as string\n        ctx.moveTo(-radius, 0)\n        ctx.lineTo(radius, 0)\n        ctx.lineTo(0, -radius * 2)\n        ctx.closePath()\n        ctx.fill()\n      }\n      // 绘制按钮图片\n      btn.imgs && btn.imgs.forEach((imgInfo, imgIndex) => {\n        if (!this.btnImgs[btnIndex]) return\n        const btnImg = this.btnImgs[btnIndex][imgIndex]\n        if (!btnImg) return\n        const [trueWidth, trueHeight] = this.computedWidthAndHeight(btnImg, imgInfo, radius * 2, radius * 2)\n        const [xAxis, yAxis] = [this.getOffsetX(trueWidth), this.getHeight(imgInfo.top, radius)]\n        this.drawImage(btnImg, xAxis, yAxis, trueWidth, trueHeight)\n      })\n      // 绘制按钮文字\n      btn.fonts && btn.fonts.forEach(font => {\n        let fontColor = font.fontColor || _defaultStyle.fontColor\n        let fontWeight = font.fontWeight || _defaultStyle.fontWeight\n        let fontSize = this.getLength(font.fontSize || _defaultStyle.fontSize)\n        let fontStyle = font.fontStyle || _defaultStyle.fontStyle\n        ctx.fillStyle = fontColor!\n        ctx.font = `${fontWeight} ${fontSize >> 0}px ${fontStyle}`\n        String(font.text).split('\\n').forEach((line, lineIndex) => {\n          ctx.fillText(line, getFontX(line), getFontY(font, radius, lineIndex))\n        })\n      })\n    })\n    // 触发绘制后回调\n    config.afterDraw?.call(this, ctx)\n  }\n\n  /**\n   * 对外暴露: 开始抽奖方法\n   */\n  public play (): void {\n    // 再次拦截, 因为play是可以异步调用的\n    if (this.startTime) return\n    this.startTime = Date.now()\n    this.prizeFlag = void 0\n    this.run()\n  }\n\n  /**\n   * 对外暴露: 缓慢停止方法\n   * @param index 中奖索引\n   */\n  public stop (index: number): void {\n    // 判断 prizeFlag 是否等于 -1\n    this.prizeFlag = index < 0 ? -1 : index % this.prizes.length\n    // 如果是 -1 就初始化状态\n    if (this.prizeFlag === -1) {\n      this.rotateDeg = this.prizeDeg / 2 - this._defaultConfig.offsetDegree\n      this.draw()\n    }\n  }\n\n  /**\n   * 实际开始执行方法\n   * @param num 记录帧动画执行多少次\n   */\n  private run (num: number = 0): void {\n    const { rAF, prizeFlag, prizeDeg, rotateDeg, _defaultConfig } = this\n    let interval = Date.now() - this.startTime\n    // 先完全旋转, 再停止\n    if (interval >= _defaultConfig.accelerationTime && prizeFlag !== void 0) {\n      // 记录帧率\n      this.FPS = interval / num\n      // 记录开始停止的时间戳\n      this.endTime = Date.now()\n      // 记录开始停止的位置\n      this.stopDeg = rotateDeg\n      // 停止范围\n      const stopRange = (Math.random() * prizeDeg - prizeDeg / 2) * this.getLength(_defaultConfig.stopRange)\n      // 测算最终停止的角度\n      let i = 0\n      while (++i) {\n        const endDeg = 360 * i - prizeFlag * prizeDeg - rotateDeg - _defaultConfig.offsetDegree + stopRange\n        let currSpeed = Tween[_defaultConfig.speedFunction].easeOut(this.FPS, this.stopDeg, endDeg, _defaultConfig.decelerationTime) - this.stopDeg\n        if (currSpeed > _defaultConfig.speed) {\n          this.endDeg = endDeg\n          break\n        }\n      }\n      return this.slowDown()\n    }\n    this.rotateDeg = (rotateDeg + Tween[_defaultConfig.speedFunction].easeIn(interval, 0, _defaultConfig.speed, _defaultConfig.accelerationTime)) % 360\n    this.draw()\n    rAF(this.run.bind(this, num + 1))\n  }\n\n  /**\n   * 缓慢停止的方法\n   */\n  private slowDown (): void {\n    const { rAF, prizes, prizeFlag, stopDeg, endDeg, _defaultConfig } = this\n    let interval = Date.now() - this.endTime\n    if (prizeFlag === -1) return (this.startTime = 0, void 0)\n    if (interval >= _defaultConfig.decelerationTime) {\n      this.startTime = 0\n      this.endCallback?.({...prizes.find((prize, index) => index === prizeFlag)})\n      return\n    }\n    this.rotateDeg = Tween[_defaultConfig.speedFunction].easeOut(interval, stopDeg, endDeg, _defaultConfig.decelerationTime) % 360\n    this.draw()\n    rAF(this.slowDown.bind(this))\n  }\n\n  /**\n   * 获取相对宽度\n   * @param length 将要转换的宽度\n   * @param width 宽度计算百分比\n   * @return 返回相对宽度\n   */\n  private getWidth (\n    length: string | number | undefined,\n    width = this.prizeRadian * this.prizeRadius\n  ): number {\n    if (isExpectType(length, 'number')) return (length as number)\n    if (isExpectType(length, 'string')) return this.changeUnits(length as string, width)\n    return 0\n  }\n\n  /**\n   * 获取相对高度\n   * @param length 将要转换的高度\n   * @param height 高度计算百分比\n   * @return 返回相对高度\n   */\n  private getHeight (\n    length: string | number | undefined,\n    height: number = this.prizeRadius\n  ): number {\n    if (isExpectType(length, 'number')) return (length as number)\n    if (isExpectType(length, 'string')) return this.changeUnits(length as string, height)\n    return 0\n  }\n\n  /**\n   * 获取相对(居中)X坐标\n   * @param width\n   * @return 返回x坐标\n   */\n  private getOffsetX (width: number): number {\n    return -width / 2\n  }\n\n  /**\n   * 换算渲染坐标\n   * @param x\n   * @param y\n   */\n  protected conversionAxis (x: number, y: number): [number, number] {\n    const { config } = this\n    return [x / config.dpr - this.Radius, y / config.dpr - this.Radius]\n  }\n}\n","import Lucky from './lucky'\nimport { ConfigType, UniImageType } from '../types/index'\nimport LuckyGridConfig, {\n  BlockType, BlockImgType,\n  PrizeType, PrizeImgType,\n  ButtonType, ButtonImgType,\n  CellFontType, CellImgType,\n  RowsType, ColsType,\n  CellType,\n  DefaultConfigType,\n  DefaultStyleType,\n  ActiveStyleType,\n  StartCallbackType,\n  EndCallbackType,\n} from '../types/grid'\nimport { isExpectType, removeEnter, computePadding, hasBackground } from '../utils/index'\nimport { drawRoundRect, getLinearGradient } from '../utils/math'\nimport { quad } from '../utils/tween'\n\ntype ImgObjType = HTMLImageElement | UniImageType\n\nexport default class LuckyGrid extends Lucky {\n  private rows: RowsType = 3\n  private cols: ColsType = 3\n  private blocks: Array<BlockType> = []\n  private prizes: Array<PrizeType> = []\n  private buttons: Array<ButtonType> = []\n  private button?: ButtonType\n  private defaultConfig: DefaultConfigType = {}\n  private _defaultConfig = { // 此处初始化无用, 是为了方便类型推导才加的\n    gutter: 5,\n    speed: 20,\n    accelerationTime: 2500,\n    decelerationTime: 2500,\n  }\n  private defaultStyle: DefaultStyleType = {}\n  private _defaultStyle = { // 此处初始化无用, 是为了方便类型推导才加的\n    borderRadius: 20,\n    fontColor: '#000',\n    fontSize: '18px',\n    fontStyle: 'sans-serif',\n    fontWeight: '400',\n    lineHeight: '',\n    background: 'rgba(0,0,0,0)',\n    shadow: '',\n    wordWrap: true,\n    lengthLimit: '90%',\n  }\n  private activeStyle: ActiveStyleType = {}\n  private _activeStyle = { // 此处初始化无用, 是为了方便类型推导才加的\n    background: '#ffce98',\n    shadow: '',\n    fontStyle: '',\n    fontWeight: '',\n    fontSize: '',\n    lineHeight: '',\n    fontColor: '',\n  }\n  private startCallback?: StartCallbackType\n  private endCallback?: EndCallbackType\n  private cellWidth = 0                 // 格子宽度\n  private cellHeight = 0                // 格子高度\n  private startTime = 0                 // 开始时间戳\n  private endTime = 0                   // 结束时间戳\n  private currIndex = 0                 // 当前index累加\n  private stopIndex = 0                 // 刻舟求剑\n  private endIndex = 0                  // 停止索引\n  private demo = false                  // 是否自动游走\n  private timer = 0                     // 游走定时器\n  private FPS = 16.6                    // 屏幕刷新率\n  /**\n   * 中奖索引\n   * prizeFlag = undefined 时, 处于开始抽奖阶段, 正常旋转\n   * prizeFlag >= 0 时, 说明stop方法被调用, 并且传入了中奖索引\n   * prizeFlag === -1 时, 说明stop方法被调用, 并且传入了负值, 本次抽奖无效\n   */\n  private prizeFlag: number | undefined = -1\n  // 所有格子\n  private cells: CellType<CellFontType, CellImgType>[] = []\n  // 奖品区域几何信息\n  private prizeArea: { x: number, y: number, w: number, h: number } | undefined\n  // 图片缓存\n  private blockImgs: Array<{ defaultImg: ImgObjType }[]> = [[]]\n  private btnImgs: Array<{ defaultImg: ImgObjType }[]> = [[]]\n  private prizeImgs: Array<{ defaultImg: ImgObjType, activeImg?: ImgObjType }[]> = []\n\n  /**\n   * 九宫格构造器\n   * @param config 元素标识\n   * @param data 抽奖配置项\n   */\n  constructor (config: ConfigType, data: LuckyGridConfig = {}) {\n    super(config)\n    if (config.ob) {\n      this.initData(data)\n      this.initWatch()\n    }\n    this.initComputed()\n    // 创建前回调函数\n    config.beforeCreate?.call(this)\n    const btnImgs = this.buttons.map(btn => btn.imgs)\n    if (this.button) btnImgs.push(this.button.imgs)\n    this.init({\n      blockImgs: this.blocks.map(block => block.imgs),\n      prizeImgs: this.prizes.map(prize => prize.imgs),\n      btnImgs,\n    })\n  }\n\n  /**\n   * 初始化数据\n   * @param data\n   */\n  private initData (data: LuckyGridConfig): void {\n    this.$set(this, 'rows', Number(data.rows) || 3)\n    this.$set(this, 'cols', Number(data.cols) || 3)\n    this.$set(this, 'blocks', data.blocks || [])\n    this.$set(this, 'prizes', data.prizes || [])\n    this.$set(this, 'buttons', data.buttons || [])\n    // 临时过渡代码, 升级到2.x即可删除\n    this.$set(this, 'button', data.button)\n    this.$set(this, 'defaultConfig', data.defaultConfig || {})\n    this.$set(this, 'defaultStyle', data.defaultStyle || {})\n    this.$set(this, 'activeStyle', data.activeStyle || {})\n    this.$set(this, 'startCallback', data.start)\n    this.$set(this, 'endCallback', data.end)\n  }\n\n  /**\n   * 初始化属性计算\n   */\n  private initComputed (): void {\n    // 默认配置\n    this.$computed(this, '_defaultConfig', () => {\n      const config = {\n        gutter: 5,\n        speed: 20,\n        accelerationTime: 2500,\n        decelerationTime: 2500,\n        ...this.defaultConfig\n      }\n      config.gutter = this.getLength(config.gutter)\n      config.speed = config.speed / 40\n      return config\n    })\n    // 默认样式\n    this.$computed(this, '_defaultStyle', () => {\n      return {\n        borderRadius: 20,\n        fontColor: '#000',\n        fontSize: '18px',\n        fontStyle: 'sans-serif',\n        fontWeight: '400',\n        background: 'rgba(0,0,0,0)',\n        shadow: '',\n        wordWrap: true,\n        lengthLimit: '90%',\n        ...this.defaultStyle\n      }\n    })\n    // 中奖样式\n    this.$computed(this, '_activeStyle', () => {\n      return {\n        background: '#ffce98',\n        shadow: '',\n        ...this.activeStyle\n      }\n    })\n  }\n\n  /**\n   * 初始化观察者\n   */\n  private initWatch (): void {\n    // 监听 blocks 数据的变化\n    this.$watch('blocks', (newData: Array<BlockType>) => {\n      return this.init({ blockImgs: newData.map(block => block.imgs) })\n    }, { deep: true })\n    // 监听 prizes 数据的变化\n    this.$watch('prizes', (newData: Array<PrizeType>) => {\n      return this.init({ prizeImgs: newData.map(prize => prize.imgs) })\n    }, { deep: true })\n    // 监听 button 数据的变化\n    this.$watch('buttons', (newData: Array<ButtonType>) => {\n      const btnImgs = newData.map(btn => btn.imgs)\n      if (this.button) btnImgs.push(this.button.imgs)\n      return this.init({ btnImgs })\n    }, { deep: true })\n    // 临时过渡代码, 升级到2.x即可删除\n    this.$watch('button', () => {\n      const btnImgs = this.buttons.map(btn => btn.imgs)\n      if (this.button) btnImgs.push(this.button.imgs)\n      return this.init({ btnImgs })\n    }, { deep: true })\n    this.$watch('rows', () => this.init({}))\n    this.$watch('cols', () => this.init({}))\n    this.$watch('defaultConfig', () => this.draw(), { deep: true })\n    this.$watch('defaultStyle', () => this.draw(), { deep: true })\n    this.$watch('activeStyle', () => this.draw(), { deep: true })\n    this.$watch('startCallback', () => this.init({}))\n    this.$watch('endCallback', () => this.init({}))\n  }\n\n  /**\n   * 初始化 canvas 抽奖\n   * @param willUpdateImgs 需要更新的图片\n   */\n  public init (willUpdateImgs: {\n    blockImgs?: Array<BlockImgType[] | undefined>,\n    prizeImgs?: Array<PrizeImgType[] | undefined>,\n    btnImgs?: Array<ButtonImgType[] | undefined>\n  }): void {\n    super.init()\n    const { config, ctx, button } = this\n    // 初始化前回调函数\n    config.beforeInit?.call(this)\n    // 先画一次防止闪烁\n    this.draw()\n    // 异步加载图片\n    Object.keys(willUpdateImgs).forEach(key => {\n      const imgName = key as 'blockImgs' | 'prizeImgs' | 'btnImgs'\n      const willUpdate = willUpdateImgs[imgName]\n      const cellName = {\n        blockImgs: 'blocks',\n        prizeImgs: 'prizes',\n        btnImgs: 'buttons',\n      }[imgName] as 'blocks' | 'prizes' | 'buttons'\n      willUpdate && willUpdate.forEach((imgs, cellIndex) => {\n        imgs && imgs.forEach((imgInfo, imgIndex) => {\n          this.loadAndCacheImg(cellName, cellIndex, imgName, imgIndex, () => {\n            this.draw()\n          })\n        })\n      })\n    })\n    // 初始化后回调函数\n    config.afterInit?.call(this)\n  }\n\n  /**\n   * canvas点击事件\n   * @param e 事件参数\n   */\n  protected handleClick (e: MouseEvent): void {\n    const { ctx } = this\n    ;[\n      ...this.buttons,\n      this.button\n    ].forEach(btn => {\n      if (!btn) return\n      const [x, y, width, height] = this.getGeometricProperty([\n        btn.x, btn.y, btn.col || 1, btn.row || 1\n      ])\n      ctx.beginPath()\n      ctx.rect(x, y, width, height)\n      if (!ctx.isPointInPath(e.offsetX, e.offsetY)) return\n      if (this.startTime) return\n      // 如果btn里有单独的回调方法, 优先触发\n      if (typeof btn.callback === 'function') btn.callback.call(this, btn)\n      // 最后触发公共回调\n      this.startCallback?.(e, btn)\n    })\n  }\n\n  /**\n   * 根据索引单独加载指定图片并缓存\n   * @param { number } prizeIndex 奖品索引\n   * @param { number } imgIndex 奖品图片索引\n   * @param { Function } callBack 图片加载完毕回调\n   */\n  private async loadAndCacheImg (\n    cellName: 'blocks' | 'prizes' | 'buttons',\n    cellIndex: number,\n    imgName: 'blockImgs' | 'prizeImgs' | 'btnImgs',\n    imgIndex: number,\n    callBack: () => void\n  ) {\n    let cell: BlockType | PrizeType | ButtonType = this[cellName][cellIndex]\n    // 临时过渡代码, 升级到2.x即可删除\n    if (cellName === 'buttons' && !this.buttons.length && this.button) {\n      cell = this.button\n    }\n    if (!cell || !cell.imgs) return\n    const imgInfo = cell.imgs[imgIndex]\n    if (!imgInfo) return\n    if (!this[imgName][cellIndex]) this[imgName][cellIndex] = []\n    // 异步加载图片\n    const request = [\n      this.loadImg(imgInfo.src, imgInfo),\n      imgInfo['activeSrc'] && this.loadImg(imgInfo['activeSrc'], imgInfo, '$activeResolve')\n    ]\n    Promise.all(request).then(([defaultImg, activeImg]) => {\n      this[imgName][cellIndex][imgIndex] = { defaultImg, activeImg } as {\n        defaultImg: ImgObjType,\n        activeImg?: ImgObjType\n      }\n      callBack.call(this)\n    }).catch(err => {\n      console.error(`${cellName}[${cellIndex}].imgs[${imgIndex}] ${err}`)\n    })\n  }\n\n  /**\n   * 计算图片的渲染宽高\n   * @param imgObj 图片标签元素\n   * @param imgInfo 图片信息\n   * @param cell 格子信息\n   * @return [渲染宽度, 渲染高度]\n   */\n  private computedWidthAndHeight (\n    imgObj: ImgObjType,\n    imgInfo: CellImgType,\n    cell: CellType<CellFontType, CellImgType>\n  ): [number, number] {\n    // 根据配置的样式计算图片的真实宽高\n    if (!imgInfo.width && !imgInfo.height) {\n      // 如果没有配置宽高, 则使用图片本身的宽高\n      return [imgObj.width, imgObj.height]\n    } else if (imgInfo.width && !imgInfo.height) {\n      // 如果只填写了宽度, 没填写高度\n      let trueWidth = this.getWidth(imgInfo.width, cell.col)\n      // 那高度就随着宽度进行等比缩放\n      return [trueWidth, imgObj.height * (trueWidth / imgObj.width)]\n    } else if (!imgInfo.width && imgInfo.height) {\n      // 如果只填写了宽度, 没填写高度\n      let trueHeight = this.getHeight(imgInfo.height, cell.row)\n      // 那宽度就随着高度进行等比缩放\n      return [imgObj.width * (trueHeight / imgObj.height), trueHeight]\n    }\n    // 如果宽度和高度都填写了, 就分别计算\n    return [\n      this.getWidth(imgInfo.width, cell.col),\n      this.getHeight(imgInfo.height, cell.row)\n    ]\n  }\n\n  /**\n   * 绘制九宫格抽奖\n   */\n  protected draw (): void {\n    const { config, ctx, _defaultConfig, _defaultStyle, _activeStyle } = this\n    // 触发绘制前回调\n    config.beforeDraw?.call(this, ctx)\n    // 清空画布\n    ctx.clearRect(0, 0, this.boxWidth, this.boxHeight)\n    // 合并奖品和按钮\n    this.cells = [\n      ...this.prizes,\n      ...this.buttons\n    ]\n    if (this.button) this.cells.push(this.button)\n    this.cells.forEach(cell => {\n      cell.col = cell.col || 1\n      cell.row = cell.row || 1\n    })\n    // 计算获取奖品区域的几何信息\n    this.prizeArea = this.blocks.reduce(({x, y, w, h}, block) => {\n      const [paddingTop, paddingBottom, paddingLeft, paddingRight] = computePadding(block)\n      const r = block.borderRadius ? this.getLength(block.borderRadius) : 0\n      // 绘制边框\n      const background = block.background || _defaultStyle.background\n      if (hasBackground(background)) {\n        drawRoundRect(ctx, x, y, w, h, r, this.handleBackground(x, y, w, h, background))\n      }\n      return {\n        x: x + paddingLeft,\n        y: y + paddingTop,\n        w: w - paddingLeft - paddingRight,\n        h: h - paddingTop - paddingBottom\n      }\n    }, { x: 0, y: 0, w: this.boxWidth, h: this.boxHeight })\n    // 计算单一奖品格子的宽度和高度\n    this.cellWidth = (this.prizeArea.w - _defaultConfig.gutter * (this.cols - 1)) / this.cols\n    this.cellHeight = (this.prizeArea.h - _defaultConfig.gutter * (this.rows - 1)) / this.rows\n    // 绘制所有格子\n    this.cells.forEach((cell, cellIndex) => {\n      let [x, y, width, height] = this.getGeometricProperty([cell.x, cell.y, cell.col, cell.row])\n      // 默认不显示中奖标识\n      let isActive = false\n      // 只要 prizeFlag 不是负数, 就显示中奖标识\n      if (this.prizeFlag === void 0 || this.prizeFlag > -1) {\n        isActive = cellIndex === this.currIndex % this.prizes.length >> 0\n      }\n      // 绘制背景色\n      const background = isActive ? _activeStyle.background : (cell.background || _defaultStyle.background)\n      if (hasBackground(background)) {\n        // 处理阴影 (暂时先用any, 这里后续要优化)\n        const shadow: any = (\n          isActive ? _activeStyle.shadow! : (cell.shadow || _defaultStyle.shadow!)\n        )\n          .replace(/px/g, '') // 清空px字符串\n          .split(',')[0].split(' ') // 防止有人声明多个阴影, 截取第一个阴影\n          .map((n, i) => i < 3 ? Number(n) : n) // 把数组的前三个值*像素比\n        // 绘制阴影\n        if (shadow.length === 4) {\n          ctx.shadowColor = shadow[3]\n          ctx.shadowOffsetX = shadow[0] * config.dpr\n          ctx.shadowOffsetY = shadow[1] * config.dpr\n          ctx.shadowBlur = shadow[2]\n          // 修正(格子+阴影)的位置, 这里使用逗号运算符\n          shadow[0] > 0 ? (width -= shadow[0]) : (width += shadow[0], x -= shadow[0])\n          shadow[1] > 0 ? (height -= shadow[1]) : (height += shadow[1], y -= shadow[1])\n        }\n        drawRoundRect(\n          ctx, x, y, width, height,\n          this.getLength(cell.borderRadius ? cell.borderRadius : _defaultStyle.borderRadius),\n          this.handleBackground(x, y, width, height, background)\n        )\n        // 清空阴影\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)'\n        ctx.shadowOffsetX = 0\n        ctx.shadowOffsetY = 0\n        ctx.shadowBlur = 0\n      }\n      // 修正图片缓存\n      let cellName = 'prizeImgs'\n      if (cellIndex >= this.prizes.length) {\n        cellName = 'btnImgs'\n        cellIndex -= this.prizes.length\n      }\n      // 绘制图片\n      cell.imgs && cell.imgs.forEach((imgInfo, imgIndex) => {\n        if (!this[cellName][cellIndex]) return\n        const cellImg = this[cellName][cellIndex][imgIndex]\n        if (!cellImg) return\n        const renderImg = (isActive && cellImg['activeImg']) || cellImg.defaultImg\n        if (!renderImg) return\n        const [trueWidth, trueHeight] = this.computedWidthAndHeight(renderImg, imgInfo, cell)\n        const [xAxis, yAxis] = [\n          x + this.getOffsetX(trueWidth, cell.col),\n          y + this.getHeight(imgInfo.top, cell.row)\n        ]\n        this.drawImage(renderImg, xAxis, yAxis, trueWidth, trueHeight)\n      })\n      // 绘制文字\n      cell.fonts && cell.fonts.forEach(font => {\n        // 字体样式\n        let style = isActive && _activeStyle.fontStyle\n          ? _activeStyle.fontStyle\n          : (font.fontStyle || _defaultStyle.fontStyle)\n        // 字体加粗\n        let fontWeight = isActive && _activeStyle.fontWeight\n          ? _activeStyle.fontWeight\n          : (font.fontWeight || _defaultStyle.fontWeight)\n        // 字体大小\n        let size = isActive && _activeStyle.fontSize\n          ? this.getLength(_activeStyle.fontSize)\n          : this.getLength(font.fontSize || _defaultStyle.fontSize)\n        // 字体行高\n        const lineHeight = isActive && _activeStyle.lineHeight\n          ? _activeStyle.lineHeight\n          : font.lineHeight || _defaultStyle.lineHeight || font.fontSize || _defaultStyle.fontSize\n        ctx.font = `${fontWeight} ${size >> 0}px ${style}`\n        ctx.fillStyle = (isActive && _activeStyle.fontColor) ? _activeStyle.fontColor : (font.fontColor || _defaultStyle.fontColor)\n        let lines = [], text = String(font.text)\n        // 计算文字换行\n        if (Object.prototype.hasOwnProperty.call(font, 'wordWrap') ? font.wordWrap : _defaultStyle.wordWrap) {\n          text = removeEnter(text)\n          let str = ''\n          for (let i = 0; i < text.length; i++) {\n            str += text[i]\n            let currWidth = ctx.measureText(str).width\n            let maxWidth = this.getWidth(font.lengthLimit || _defaultStyle.lengthLimit, cell.col)\n            if (currWidth > maxWidth) {\n              lines.push(str.slice(0, -1))\n              str = text[i]\n            }\n          }\n          if (str) lines.push(str)\n          if (!lines.length) lines.push(text)\n        } else {\n          lines = text.split('\\n')\n        }\n        lines.forEach((line, lineIndex) => {\n          ctx.fillText(\n            line,\n            x + this.getOffsetX(ctx.measureText(line).width, cell.col),\n            y + this.getHeight(font.top, cell.row) + (lineIndex + 1) * this.getLength(lineHeight)\n          )\n        })\n      })\n    })\n    // 触发绘制后回调\n    config.afterDraw?.call(this, ctx)\n  }\n\n  /**\n   * 处理背景色\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   * @param background\n   * @param isActive\n   */\n  private handleBackground (\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    background: string,\n  ) {\n    const { ctx } = this\n    // 处理线性渐变\n    if (background.includes('linear-gradient')) {\n      background = getLinearGradient(ctx, x, y, width, height, background)\n    }\n    return background\n  }\n\n  /**\n   * 对外暴露: 开始抽奖方法\n   */\n  public play (): void {\n    const { clearInterval } = this.config\n    if (this.startTime) return\n    clearInterval(this.timer)\n    this.startTime = Date.now()\n    this.prizeFlag = void 0\n    this.run()\n  }\n\n  /**\n   * 对外暴露: 缓慢停止方法\n   * @param index 中奖索引\n   */\n  public stop (index: number): void {\n    // 判断 prizeFlag 是否等于 -1\n    this.prizeFlag = index < 0 ? -1 : index % this.prizes.length\n    // 如果是 -1 就初始化状态\n    if (this.prizeFlag === -1) {\n      this.currIndex = 0\n      this.draw()\n    }\n  }\n\n  /**\n   * 实际开始执行方法\n   * @param num 记录帧动画执行多少次\n   */\n  private run (num: number = 0): void {\n    const { rAF, currIndex, prizes, prizeFlag, startTime, _defaultConfig } = this\n    let interval = Date.now() - startTime\n    // 先完全旋转, 再停止\n    if (interval >= _defaultConfig.accelerationTime && prizeFlag !== void 0) {\n      // 记录帧率\n      this.FPS = interval / num\n      // 记录开始停止的时间戳\n      this.endTime = Date.now()\n      // 记录开始停止的索引\n      this.stopIndex = currIndex\n      // 测算最终停止的索引\n      let i = 0\n      while (++i) {\n        const endIndex = prizes.length * i + prizeFlag - (currIndex >> 0)\n        let currSpeed = quad.easeOut(this.FPS, this.stopIndex, endIndex, _defaultConfig.decelerationTime) - this.stopIndex\n        if (currSpeed > _defaultConfig.speed) {\n          this.endIndex = endIndex\n          break\n        }\n      }\n      return this.slowDown()\n    }\n    this.currIndex = (currIndex + quad.easeIn(interval, 0.1, _defaultConfig.speed, _defaultConfig.accelerationTime)) % prizes.length\n    this.draw()\n    rAF(this.run.bind(this, num + 1))\n  }\n\n  /**\n   * 缓慢停止的方法\n   */\n  private slowDown (): void {\n    const { rAF, prizes, prizeFlag, stopIndex, endIndex, _defaultConfig } = this\n    let interval = Date.now() - this.endTime\n    // 如果等于 -1 就直接停止游戏\n    if (prizeFlag === -1) return (this.startTime = 0, void 0)\n    if (interval > _defaultConfig.decelerationTime) {\n      this.startTime = 0\n      this.endCallback?.({...prizes.find((prize, index) => index === prizeFlag)})\n      return\n    }\n    this.currIndex = quad.easeOut(interval, stopIndex, endIndex, _defaultConfig.decelerationTime) % prizes.length\n    this.draw()\n    rAF(this.slowDown.bind(this))\n  }\n\n  /**\n   * 开启中奖标识自动游走\n   */\n  public walk (): void {\n    const { setInterval, clearInterval } = this.config\n    clearInterval(this.timer)\n    this.timer = setInterval(() => {\n      this.currIndex += 1\n      this.draw()\n    }, 1300)\n  }\n\n  /**\n   * 计算奖品格子的几何属性\n   * @param { array } [...矩阵坐标, col, row]\n   * @return { array } [...真实坐标, width, height]\n   */\n  private getGeometricProperty ([x, y, col, row]: number[]) {\n    const { cellWidth, cellHeight } = this\n    const gutter = this._defaultConfig.gutter\n    let res = [\n      this.prizeArea!.x + (cellWidth + gutter) * x,\n      this.prizeArea!.y + (cellHeight + gutter) * y\n    ]\n    col && row && res.push(\n      cellWidth * col + gutter * (col - 1),\n      cellHeight * row + gutter * (row - 1),\n    )\n    return res\n  }\n\n  /**\n   * 转换并获取宽度\n   * @param width 将要转换的宽度\n   * @param col 横向合并的格子\n   * @return 返回相对宽度\n   */\n  private getWidth (\n    width: string | number | undefined,\n    col: number = 1\n  ): number {\n    if (isExpectType(width, 'number')) return (width as number)\n    if (isExpectType(width, 'string')) return this.changeUnits(\n      width as string,\n      this.cellWidth * col + this._defaultConfig.gutter * (col - 1)\n    )\n    return 0\n  }\n\n  /**\n   * 转换并获取高度\n   * @param height 将要转换的高度\n   * @param row 纵向合并的格子\n   * @return 返回相对高度\n   */\n  private getHeight (\n    height: string | number | undefined,\n    row: number = 1\n  ): number {\n    if (isExpectType(height, 'number')) return (height as number)\n    if (isExpectType(height, 'string')) return this.changeUnits(\n      height as string,\n      this.cellHeight * row + this._defaultConfig.gutter * (row - 1)\n    )\n    return 0\n  }\n\n  /**\n   * 获取相对(居中)X坐标\n   * @param width\n   * @param col\n   */\n  private getOffsetX (width: number, col = 1): number {\n    return (this.cellWidth * col + this._defaultConfig.gutter * (col - 1) - width) / 2\n  }\n\n  /**\n   * 换算渲染坐标\n   * @param x\n   * @param y\n   */\n  protected conversionAxis (x: number, y: number): [number, number] {\n    const { config } = this\n    return [x / config.dpr, y / config.dpr]\n  }\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","l","ar","slice","concat","includes","search","start","indexOf","find","defineProperty","predicate","o","len","k","kValue"],"mappings":"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"}